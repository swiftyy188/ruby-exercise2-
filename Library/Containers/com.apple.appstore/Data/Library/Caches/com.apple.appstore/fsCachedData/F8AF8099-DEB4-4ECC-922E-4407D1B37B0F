/*
** Copyright Â© 2015 Apple Inc.
** All rights reserved.
*/

function ITSEvent(e,t){this.eventName=e,this.eventSource=t}function _itsdlogHasClientLogger(e){return window.its&&its.client&&its.client[e]&&typeof its.client[e]=="function"}function _itsdlogHasConsoleLogger(e){return window.console&&console[e]}function _itsdlogFunnel(e,t,n){t||(t="log");
if(_itsdlogHasClientLogger(t))return its.client[t](e,n);
if(_itsdlogHasConsoleLogger(t)&&!n)return console[t](e)}function itsdlog(e){return _itsdlogFunnel(e,"log")}function itsdinfo(e){return _itsdlogFunnel(e,"info")}function itsddebug(e){return _itsdlogFunnel(e,"debug")}function itsdslog(e,t){return _itsdlogFunnel(e,t,!0)}function itsdalert(e){return alert(e)}function bind(e,t){typeof t=="string"&&(t=e[t]);
var n=Array.prototype.slice,r=n.call(arguments,2);
return r.length>0?t.bind.apply(t,[e].concat(r)):t.bind(e)}function bindAsEventListener(e,t){typeof t=="string"&&(t=e[t]);
var n=Array.prototype.slice,r=n.call(arguments,2);
return function(i){return t.apply(e,[i].concat(r))}}function defer(e,t,n){return n||(n=0),setTimeout(bind(e,t),n)}function defined(e){return typeof window[e]!="undefined"}function getGlobalConst(e){return defined(e)?window[e]:null}function definedValue(e,t){return typeof e!="undefined"&&e!=null?e:t}function classNameForObject(e){if(e===null)return"null";
var t=typeof e;
if(t=="undefined")return"undefined";
if(t=="string"||e instanceof String)return"String";
if(t=="number"||e instanceof Number)return"Number";
if(e.constructor===Array)return"Array";
if(t=="object"||t=="function"){if(e.klassName)return e.klassName;
var n=e.toString();
n=="[object Object]"&&(n=e.constructor.toString());
if(n.indexOf("function ")===0)return n.replace("function ","").split("(")[0].toString();
if(n.indexOf("[object ")===0)return n.replace("[object ","").replace("]","");
if(n.indexOf("[object]")===0)return"object"}return"unknown"}function newElement(e,t,n){var e=document.createElement(e);
return t&&(typeof t=="string"?e.innerHTML=t:e.appendChild(t)),n&&(e.className=n),e}function isDomNode(e){return typeof e=="object"&&e.nodeType===1&&e.cloneNode}function clone(e,t,n){var r=null;
if(e==null||typeof e!="object")r=e;
!r&&isDomNode(e)&&(r=e.cloneNode(t),n&&(e.id=its.x.uniquifyId(e.id)));
if(!r&&e instanceof Object){var i={};
for(var s in e)e.hasOwnProperty(s)&&(i[s]=t?clone(e[s]):e[s]);
r=i}if(!r&&e instanceof Array){var i=[];
e.each(function(e){i.push(t?clone(e):e)}),r=i}if(!r&&e instanceof Date){var i=new Date;
i.setTime(e.getTime()),r=i}if(!r&&e)throw new Error("Clone failed.");
return r}function ITSLogger(e){e||(e=ITSLogger.Defaults.loggerName),this._loggerName=e,ITSLogger.loggers||(ITSLogger.loggers={}),ITSLogger.loggers[e]=this}function SFDelayedImageLoaderController(){}function iTSKitImageLoader(e,t,n,r){this.callback=bind(t,e),r||(r=9999),this.timeout=setTimeout(bind(this,"goOnTimeout"),r),this.images=new Array,this.addElements(n),this.numImages=0,this.images.each(function(e){its.ui.isImageComplete(e)||(this.numImages++,e.addEventListener("load",this,!1))},this),this.goOnReady()}function ITSParentalRating(e,t){this.ratingSystem=e,this.ratingValue=t}function ITSMetricsPageInfo(e,t,n,r){this.pageName=e,this.pageNameExtrasForBuyMetrics=t,this.channelName=n,this.location=r}function ITSPageMetricsUtil(){}function ITSLocationMetricsUtil(){}function ITSMetricsClickHandler(){}function iTSKitPageController(){this.className=function(){return"iTSKitPageController"},this.controllers=new Array,this.listeners=new Array,this.constants={linkLabel:"link-label",linkUrl:"link-url"};
var e=this;
window.addEventListener("load",function(){e.controllers.forEach(function(e){e.load&&e._load()}),e.controllers.forEach(function(e){e.afterLoad&&e._afterLoad()})},!1),window.addEventListener("DOMContentLoaded",function(){e.controllers.forEach(function(e){e.domReady&&e._domReady()})},!1),window.addEventListener("pagehide",function(){e.controllers.forEach(function(e){e.pagehide&&e._pagehide()})},!1)}function iTSKitController(e){var t=classNameForObject(e),n=getGlobalConst(t),r=iTSKit.controllers[t];
if(!r){var i=t.replace(new RegExp("Controller$","g"),""),s=getGlobalConst(i);
iTSKitElement(e);
var o=new n;
o.page=iTSKit,o.elements=new Array,o.bindToElementsSelector=null,iTSKitControllerElementBinding(e,s,i),iTSKitControllerSetupEvents(e,o),iTSKit.controllers.push(o),iTSKit[t]=o,r=o}return r}function iTSKitControllerElementBinding(e,t,n){e.prototype.bindToElement=function(r){if(t&&r&&!r[n]){var i=new t(r,this);
return i.controller=this,this.elements.push(i),r[n]=i,i}return null},e.prototype.bindToElements=function(t){this.bindToElementsSelector=t,this.bindToElementsInNodeList(document.querySelectorAll(t))},e.prototype.bindToElementsInNodeList=function(t){t.each(function(t){this.bindToElement(t)},this)},e.prototype.bindToElementById=function(t){var n=document.getElementById(t);
n!=null&&this.bindToElement(n)},e.prototype.applyToElements=function(n){typeof n=="string"&&(n=t.prototype[n]),this.elements.each(function(e){n.apply(e,arguments)},this)}}function iTSKitControllerSetupEvents(e,t){e.prototype.refresh=function(){this.load&&this._load(),this.domReady&&this._domReady(),this.domRefresh&&this.domRefresh()},e.prototype._load=function(){iTSKit._pageLoaded=!0;
try{var t=this.className()+".load";
this.load()}catch(n){this.handleException("load",n)}},e.prototype._afterLoad=function(){defer(this,function(){iTSKit._afterPageLoaded=!0;
try{var e=this.className()+".afterLoad";
this.afterLoad()}catch(t){this.handleException("afterLoad",t)}})},e.prototype._domReady=function(){iTSKit._domContentLoaded=!0;
try{var t=this.className()+".domReady";
this.domReady()}catch(n){this.handleException("domReady",n)}},e.prototype._unload=function(){try{var t=this.className()+".unload";
this.unload()}catch(n){this.handleException("unload",n)}},e.prototype._pagehide=function(t){try{var n=this.className()+".pagehide";
this.pagehide(t)}catch(r){this.handleException("pagehide",r)}}}function iTSKitElement(e){return e.prototype.className=function(){return classNameForObject(this)},e.prototype.dispatchCustomEvent=function(e,t,n,r,i){r=typeof r=="boolean"?r:!0,i=typeof i=="boolean"?i:!0;
var s=document.createEvent("Events");
s.initEvent(t,r,i),s._customEvent=!0;
if(n!=null)for(var o in n)s[o]||(s[o]=n[o]);
e.dispatchEvent(s)},iTSKitErrorHandling(e),iTSKitTiming(e),iTSKitUtil(e),iTSKitEventHandling(e),e}function iTSKitEventHandling(e){var t=e.prototype.handleEvent?e.prototype.handleEvent:null;
e.prototype.handleEvent=function(r){try{var i=this.className()+".handleEvent "+r.type,s=r.type+"Event";
e.prototype[s]?e.prototype[s].call(this,r):t&&t.call(this,r)}catch(o){this.handleException("handleEvent "+r.type,o)}}}function iTSKitErrorHandling(e){e.prototype.handleException=function(e,t){throw its.client.isRunning&&its.client.log("iTSKitException "+this.className()+"."+e+" - "+t.name+": "+t.message),t}}function iTSKitTiming(e){e.prototype.startDelay=function(e,t){var n=this,r=new Object;
return r.method=e,r.duration=t,r.currentTime=new Date,r.paused=!1,r.timeout=setTimeout(function(){n[e]()},t),r},e.prototype.pauseDelay=function(e){if(e)return clearTimeout(e.timeout),e.paused=!0,e.pausedAt=new Date,e},e.prototype.resumeDelay=function(e,t){t==null&&(t=0);
var n=e.duration-(e.pausedAt-e.currentTime);
return n=Math.max(n,0),n+=t,this.startDelay(e.method,n)},e.prototype.callMethodNameAfterDelay=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,2),i=function(){n[e].apply(n,r)};
return setTimeout(i,t)}}function iTSKitUtil(e){e.prototype.imageLoadListener=function(e,t,n){return new iTSKitImageLoader(e,this,t,n)},e.prototype.assetPath=function(e){var t=document.styleSheets[0].href.replace(new RegExp("/stylesheets.*","g"),"");
return e&&e.indexOf("/")==0&&(e=e.substring(1,e.length)),e&&(t=t+"/"+e),t},e.prototype.clientSideInclude=function(e,t,n,r,i,s){typeof r=="string"&&(r=bind(this,r));
var o=function(e){r(e),iTSKit.refresh()};
iTSInclude.clientSideInclude(e,t,n,o,bind(this,i),bind(this,s))},e.prototype.makeHttpRequest=function(e){iTSInclude.makeHttpRequest(e)},e.prototype.localize=function(e,t){return its.loc(e,t)}}typeof its=="undefined"&&(its={}),its.sf||(its.sf={}),its.sf.DelayedCallQueue={},its.sf.DelayedCallQueue._queue={},its.sf.DelayedCallQueue._handlerObjectsCache={},its.sf.DelayedCallQueue.call=function(handlerObjectName,aFunction){var handlerObject=its.sf.DelayedCallQueue._handlerObjectsCache[handlerObject];
if(!handlerObject)try{handlerObject=eval(handlerObjectName),handlerObject&&typeof handlerObject!="undefined"&&(its.sf.DelayedCallQueue._handlerObjectsCache=handlerObject)}catch(anException){}var handlerObjectFunctionArray=its.sf.DelayedCallQueue._queue[handlerObjectName];
!handlerObject||typeof handlerObject=="undefined"?(handlerObjectFunctionArray||(handlerObjectFunctionArray=[],its.sf.DelayedCallQueue._queue[handlerObjectName]=handlerObjectFunctionArray),handlerObjectFunctionArray.push(aFunction)):(its.sf.DelayedCallQueue.objectReady(handlerObjectName),aFunction())},its.sf.DelayedCallQueue.objectReady=function(e){var t=its.sf.DelayedCallQueue._queue[e];
if(t){for(var n=0;
n<t.length;
n++)t[n]();
its.sf.DelayedCallQueue._queue[e]=null,delete its.sf.DelayedCallQueue._queue[e]}},window.its||(window.its={}),its.x||(its.x={}),its.x.util||(its.x.util={}),its.x.util.array||(its.x.util.array={}),its.x.uniqueGuid=1,its.x.attachGuid=function(t){t.__guid||(t.__guid=its.x.uniqueGuid++)},its.x.browserName=function(){return its.x.isOpera()?"opera":its.x.isKhtml()?"khtml":its.x.isSafari()?"safari":its.x.isChrome()?"chrome":its.x.isWebKit()?"webkit":its.x.isIE7()?"ie7":its.x.isIE8()?"ie8":its.x.isIE()?"ie":its.x.isFirefox()?"firefox":"unknown"},its.x.initBrowserDetect=function(){if(typeof its.x.initBrowserDetect.browser=="undefined"||!its.x.initBrowserDetect.browser){var t=navigator,n=t.userAgent,r=t.appVersion,i=parseFloat(r),s={};
s.isOpera=n.indexOf("Opera")>=0?i:undefined,s.isKhtml=r.indexOf("Konqueror")>=0?i:undefined,s.isWebKit=parseFloat(n.split("WebKit/")[1])||undefined,s.isChrome=parseFloat(n.split("Chrome/")[1])||undefined,s.isFirefox=/Firefox[\/\s](\d+\.\d+)/.test(n);
var o=Math.max(r.indexOf("WebKit"),r.indexOf("Safari"),0);
if(o&&!s.isChrome){s.isSafari=parseFloat(r.split("Version/")[1]);
if(!s.isSafari||parseFloat(r.substr(o+7))<=419.3)s.isSafari=2}if(document.all&&!s.isOpera){s.isIE=parseFloat(r.split("MSIE ")[1])||undefined;
var u=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),a=-1;
u.exec(n)!=null&&(a=parseFloat(RegExp.$1)),s.isIE7=a>=7&&a<8,s.isIE8=a>=8&&a<9}its.x.initBrowserDetect.browser=s}return its.x.initBrowserDetect.browser},its.x.isIE=function(){return its.x.initBrowserDetect().isIE},its.x.isIE7=function(){return its.x.initBrowserDetect().isIE7},its.x.isIE8=function(){return its.x.initBrowserDetect().isIE8},its.x.isOpera=function(){return its.x.initBrowserDetect().isOpera},its.x.isKhtml=function(){return its.x.initBrowserDetect().isKhtml},its.x.isWebKit=function(){return its.x.initBrowserDetect().isWebKit},its.x.isChrome=function(){return its.x.initBrowserDetect().isChrome},its.x.isSafari=function(){return its.x.initBrowserDetect().isSafari},its.x.isFirefox=function(){return its.x.initBrowserDetect().isFirefox},its.x.PLATFORMS||(its.x.PLATFORMS={}),its.x.PLATFORMS.Windows="Windows",its.x.PLATFORMS.MacOS="MacOS",its.x.PLATFORMS.Linux="Linux",its.x.PLATFORMS.Unix="Unix",its.x.__detectOS=function(){var t=undefined;
return navigator.appVersion.indexOf("Win")!=-1?t=its.x.PLATFORMS.Windows:navigator.appVersion.indexOf("Mac")!=-1?t=its.x.PLATFORMS.MacOS:navigator.appVersion.indexOf("X11")!=-1?t=its.x.PLATFORMS.Unix:navigator.appVersion.indexOf("Linux")!=-1&&(t=its.x.PLATFORMS.Linux),t},its.x.isWindows=function(){return its.x.__detectOS()==its.x.PLATFORMS.Windows},its.x.isMacOS=function(){return its.x.__detectOS()==its.x.PLATFORMS.MacOS},its.x.util.array.indexOf=function(t,n){var r=-1;
if(t.indexOf)r=t.indexOf(n);
else for(var i=0;
i<t.length&&r==-1;
i++)t[i]==n&&(r=i);
return r},its.x.util.array.shallowCopy=function(t){return t.slice(0)},its.x.notifyOfDOMContentLoaded=function(t){var n=!0;
return its.x.isIE()?n=window.attachEvent("onload",t):document.addEventListener("DOMContentLoaded",t,!1),n},its.x.addEventListener=function(t,n,r){t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent&&t.attachEvent("on"+n,function(e){r.call(t,e)})},ITSEvent.prototype.preventDefault=function(){this._preventDefaultFlag=!0},ITSEvent.prototype.shouldPreventDefault=function(){return this._preventDefaultFlag},its.x.extendWithEventDispatching=function(t){t.__eventToListenersMap||(t.__eventToListenersMap={},t.__additionalDispatchers=new Array,Class.extend(t,its.x._ITSEventDispatcher))},its.x._ITSEventDispatcher=function(){},its.x._ITSEventDispatcher.itsAddEventListener=function(t,n){var r=!1;
if(typeof n=="function"){var i=this.__eventToListenersMap[t];
i||(i=new Array,this.__eventToListenersMap[t]=i),its.x.util.array.indexOf(i,n)==-1&&(i.push(n),r=!0)}return r},its.x._ITSEventDispatcher.itsRemoveEventListener=function(t,n){var r=this.__eventToListenersMap[t];
if(r){var i=its.x.util.array.indexOf(r,n);
i>=0&&r.splice(i,1)}},its.x._ITSEventDispatcher.itsHasEventListeners=function(t){if(!t)throw new Error("itsHasEventListeners called with null event");
var n=this.__eventToListenersMap[t.eventName];
return n&&n.length||this.__additionalDispatchers&&this.__additionalDispatchers.length},its.x._ITSEventDispatcher.itsDispatchEvent=function(t){var n=this.__eventToListenersMap[t.eventName];
if(n)for(var r=0;
r<n.length;
r++)try{n[r].apply(this,arguments)}catch(i){console&&console.error&&i.line&&i.sourceURL&&console.error(i+"    See line "+i.line+" of "+i.sourceURL)}if(this.__additionalDispatchers.length>0)for(var r=0;
r<this.__additionalDispatchers.length;
r++)try{this.__additionalDispatchers[r].itsDispatchEvent(t)}catch(i){console&&console.error&&i.line&&i.sourceURL&&console.error(i+"    See line "+i.line+" of "+i.sourceURL)}},its.x._ITSEventDispatcher.itsDelegateEvents=function(t){its.x.extendWithEventDispatching(t),this.__additionalDispatchers.push(t)},its.x.dynaLoadResourceFile=function(t,n){var r=!1;
if(its&&its.property&&its.property("DynaLoader.allowDynaLoading")){its._dynaLoadedFiles||(its._dynaLoadedFiles=[]);
if(t&&!its.contains(its._dynaLoadedFiles,t)){var i=null,s=null,o=null,i=document.getElementsByTagName("head");
i&&(s=i[0]),s&&(o=s.firstChild);
if(o){its._dynaLoadedFiles.push(t);
var u=its.contains(t,".js")||its.contains(t,".jsz")?"js":"css",a=u=="js"?"SCRIPT":"LINK",f=u=="js"?"text/javascript":"text/css",l=document.createElement(a);
l.onload=l.onreadystatechange=n,l.type=f,u=="css"?(l.rel="stylesheet",l.href=t):(l.charset="utf-8",l.src=t),its.x.element.insertBeforeElement(o,l),r=!0}else window.console&&console.log&&(console.log("its.x.dynaLoadResourceFile: Waiting for DOM <head> section to be created before fetching resource: "+t),window.setTimeout(function(){its.x.dynaLoadResourceFile(t,n)},200))}else t&&(r=!0)}return r},window.its||(window.its={}),its.files||(its.files={}),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice,r=n.call(arguments,1);
return function(){return t.apply(e,r.concat(n.call(arguments)))}}),Class={create:function(e,t){return Class._create(e,t)},createSubclass:function(e,t,n){if(!t)throw new Error("Undefined base class when creating subclass: "+e);
return Class._create(e,n,t)},_create:function(e,t,n){function r(){this.initialize.apply(this,arguments)}function i(e,t,n){var r=e[n];
e[n]=function(){var i=t[n],s=this.base,o=arguments;
this.base=function(){return arguments.length&&(o=arguments),i.apply(this,o)};
try{return r.apply(this,o)}finally{this.base=s}}}if(n){var s=function(){};
s.prototype=n.prototype,r.prototype=new s}Class.extend(r.prototype,t);
if(n)for(var o in n.prototype)r.prototype.hasOwnProperty(o)&&typeof r.prototype[o]=="function"&&typeof n.prototype[o]=="function"&&i(r.prototype,n.prototype,o);
return r.prototype.initialize||(r.prototype.initialize=its.emptyFunction),r.prototype.constructor=r,r.klassName=e,r},extend:function(e,t){e=e||{},t=t||{};
for(var n in t)e[n]=t[n];
return e},shallowClone:function(e){return Class.extend({},e)}},typeof window=="undefined"&&(window=this),typeof location=="undefined"&&(location={},location.search=""),window.its||(window.its={}),its.sf||(its.sf={}),its.currentTime=function(){return(new Date).getTime()},its.isDefined=function(t){return typeof t!="undefined"},its.isDefinedNonNull=function(t){return its.isDefined(t)&&t!=null},its.isDefinedNonNullNonEmpty=function(t){return its.isDefined(t)&&t!=null&&t!=""},its.isFunction=function(t){return typeof t=="function"},its.isNumber=function(t){return typeof t=="number"},its.isString=function(t){return typeof t=="string"||t instanceof String},its.isElement=function(t){return t&&t.nodeType==1},its.isArray=function(t){return t&&t.constructor===Array},its.isObject=function(t){return t&&t.constructor===Object},its.createObjectPath=function(e,t){return its.objectAtPath(e,t,!0)},its.objectAtPath=function(e,t,n){var r=definedValue(t,window);
if(e){var i=e.split(".");
for(var s=0;
r&&s<i.length;
s++){var o=i[s];
!r[o]&&n&&(r[o]={}),r[o]?r=r[o]:r=null}}return r},its.toArray=function(t){var n;
if(its.isString(t))t=its.string.trim(t,"(){}[]"),n=t.split(",");
else{var n=[];
if(t&&its.isDefinedNonNull(t.length))for(var r=0;
r<t.length;
r++)n[r]=t[r]}return n},its.arrayToMap=function(e){var t={};
e=its.toArray(e);
for(var n=0;
n<e.length;
n++)t[e[n]]=!0;
return t},its.toBoolean=function(t){return t?t=="0"||t=="false"?!1:!0:!1},its.isEmpty=function(t){var n=!0;
if(its.isDefinedNonNull(t))if(its.isString(t)&&t!="")n=!1;
else if(its.isArray(t)&&t.length>0)n=!1;
else for(var r in t)if(t.hasOwnProperty(r)){n=!1;
break}return n},its.contains=function(t,n){var r=!1;
return its.isDefinedNonNull(t)&&its.isDefinedNonNull(n)&&(its.isString(t)&&its.isString(n)&&t.indexOf(n)!=-1||its.isArray(t)&&t.indexOf(n)!=-1||its.isDefinedNonNull(t[n]))&&(r=!0),r},its.webkitVersion=function(){var t=navigator.userAgent,n=/AppleWebKit\/([\d.]+)/,r=n.exec(t),i;
if(r)i=r[1];
else{var s=/^iTunes\/10\.4 \(Windows;.+AppleWebKit\/$/;
s.exec(t)?i="533.21.1":(window.console&&console.warn("Unable to determine WebKit version from user agent: "+t),i="0")}return i},its.webkitVersionCompare=function(t,n){var r=0,i=0,s=t.split("."),o=n.split(".");
while((s[i]||o[i])&&r==0){var u=s[i]?its.string.toInt(s[i]):0,a=o[i]?its.string.toInt(o[i]):0;
u<a?r=-1:u>a&&(r=1),i++}return r},its.poseAs=function(e,t,n){var r=e[t];
e[t]=function(){var e=[r,arguments];
return n.apply(this,e)}},its.emptyFunction=function(){},its.swallowEventFunction=function(t){t.preventDefault(),t.stopPropagation()},window.its.element||(window.its.element={}),its.element.createDocumentFragmentFromString=function(t){var n=document.createDocumentFragment(),r;
if(!its.sf.Platform.isITML()){var i=document.createElement("div");
i.innerHTML=t,r=i.children;
var s=r.length;
for(var o=0;
o<s;
o++)n.appendChild(r[0])}else if(its.string.compareNumerically(its.sf.Client.version(),"8.0")>=0)n.innerXML=t;
else{t="<placeholder>"+t+"</placeholder>",i=(new DOMParser).parseFromString(t,"text/xml"),r=i.firstChild.children;
for(var o=0;
o<r.length;
o++){var u=r.item(o);
document.adoptNode(u),n.appendChild(u)}}return its&&its.Template&&its.sf.Platform.isITML()&&its.Template.queryForITSElements(n),n},its.element.createElementFromString=function(t){var n=its.element.createDocumentFragmentFromString(t),r=n.childNodes;
return r.length>0?(r.length>1&&window.console&&console.warn("its.element.createElementFromString: multiple elements were created, but only the first will be returned"),r.item(0)):null},its.element.setAttributes=function(t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&t.setAttribute(r,n[r])},its.element.getScrollTop=function(e){return e==window?window.scrollY:e.scrollTop},its.element.getScrollLeft=function(e){return e==window?window.scrollX:e.scrollLeft},its.element.getClientHeight=function(e){return e==window?window.innerHeight:e.clientHeight},its.element.getClientWidth=function(e){return e==window?window.innerWidth:e.clientWidth},its.element.getScrollHeight=function(e){return e==window?window.pageYOffset:e.scrollHeight},its.element.getScrollWidth=function(e){return e==window?window.pageXOffset:e.scrollWidth},its.element.getOffsetHeight=function(e){return e==window?document.body.offsetHeight:e.offsetHeight},its.element.getOffsetWidth=function(e){return e==window?document.body.offsetWidth:e.offsetWidth},window.its.geometry||(window.its.geometry={}),its.geometry.doesRectIntersectRect=function(t,n){var r=!0;
return t.right<n.left?r=!1:t.left>n.right?r=!1:t.bottom<n.top?r=!1:t.top>n.bottom&&(r=!1),r},its.geometry.Orientation={VERTICAL:1,HORIZONTAL:2},window.its.array||(window.its.array={}),its.array.arrayOfPrimitivesAsSet=function(t){if(t==null)return null;
var n={};
for(var r=0;
r<t.length;
r++){var i=t[r];
switch(typeof i){case"boolean":case"number":case"string":n[i]=!0;
break;default:throw"its.array.asSet: array contains non primitive element"}}return n},its.array.pushAll=function(t,n){t.push.apply(t,n)},its.array.insertArray=function(e,t,n,r){var i=e[n];
return e[n]="temp",e[n]=i,r&&e.splice(n,t.length),e.splice.apply(e,[n,0].concat(t)),e},window.its.string||(window.its.string={}),its.string.startsWith=function(t,n,r){var i=!1;
return t&&n&&(t=t.substr(0,n.length),r&&(t=t.toLowerCase(),n=n.toLowerCase()),i=t.indexOf(n)===0),i},its.string.endsWith=function(t,n,r){var i=!1;
if(t){r&&(t=t.toLowerCase(),n=n.toLowerCase());
var s=t.length-n.length;
i=s>=0&&t.lastIndexOf(n)===s}return i},its.string.pad=function(t,n,r){var i=t+="";
r=r||"0";
if(i.length<n){var s=n-i.length,o=[];
for(var u=s;
u>0;
u--)o.push(r);
i=o.join("")+i}return i},its.string.replace=function(e,t,n){return e?(typeof e!="string"&&(e+=""),e.split(t).join(n)):e},its.string.whitespace="	\n\f\r Â âââââââââââã\u2028\u2029â",its.string._whitespaceTrimStartRegex=new RegExp("^["+its.string.whitespace+"]+"),its.string._whitespaceTrimEndRegex=new RegExp("["+its.string.whitespace+"]+$"),its.string.trim=function(t,n,r){var i=null;
if(t)if(!r&&(!n||n==its.string.whitespace)&&t.trim)i=t.trim();
else{var s=null,o=null,u=null;
its.isDefinedNonNull(n)?(n=n.replace(/([.?*+^$[\]\\(){}-])/g,"\\$1"),s="["+n+"]",o=new RegExp("^"+s+"+"),u=new RegExp(s+"+$")):(s=its.string.whitespace,o=its.string._whitespaceTrimStartRegex,u=its.string._whitespaceTrimEndRegex);
var a=t.replace(o,"");
i=a.replace(u,"")}return i},its.string.splitTrimmed=function(t,n,r){var i=t.split(n);
if(i)for(var s=0;
s<i.length;
s++)i[s]=its.string.trim(i[s],r);
return i},its.string.xmlEscape=function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};
return function(t){var n=t;
return n&&(n+="",n=n.replace(/[&<>"']/g,function(t){return e[t]})),n}}(),its.string.xmlUnescape=function(t){return t.replace(/&apos;/g,String.fromCharCode(39)).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},its.string.htmlUnescape=function(t){var n=document.createElement("textarea");
n.innerHTML=t.replace(/</g,"&lt;").replace(/>/g,"&gt;");
var r=n.value;
return n.remove(),r},its.string.contains=function(t,n){return t&&t.indexOf(n)>-1},its.string.urlDecode=function(t){var n=t;
return t&&(n=t.replace(/\+/g," "),n=decodeURIComponent(n)),n};
var _dateExpression=new RegExp("^([0-9]{4}/[0-9]{2}/[0-9]{2})/(.*)");
its.string.compare=function(t,n,r,i){var s=null,o=1;
r&&(o=-1);
var u=_dateExpression.exec(t),a=_dateExpression.exec(n);
u&&a&&(u[1]==a[1]?(t=u[2],n=a[2]):(s=u[1]>a[1]?1:-1,i&&(o=-1)));
if(!s){var f=parseFloat(t),l=parseFloat(n);
if(!isNaN(f)&&!isNaN(l)&&f!=l)s=f-l;
else{var c=t.toLowerCase(),h=n.toLowerCase();
if(c<h)s=-1;
else if(c>h)s=1;
else{s=0;
for(var p=0;
!s&&p<t.length;
p++){var d=t.charAt(p),v=n.charAt(p);
d<v?s=1:d>v&&(s=-1)}}}}return s*=o,s},its.string.compareNumerically=function(e,t){if(!e&&!t)return 0;
if(!e)return-1;
if(!t)return 1;
var n="0123456789",r=0,i=0;
while(r<e.length||i<t.length){var s=e[r],o=t[i];
if(!o)return 1;
if(!s)return-1;
var u=n.indexOf(s)>=0,a=n.indexOf(o)>=0;
if(u&&a){var f=its.string._getNumberFromBeginningOfString(e,r),l=its.string._getNumberFromBeginningOfString(t,i);
if(parseInt(f,10)<parseInt(l,10))return-1;
if(parseInt(f,10)>parseInt(l,10))return 1;
r+=f.length,i+=l.length}else{if(s<o)return-1;
if(s>o)return 1;
r++,i++}}return 0},its.string._getNumberFromBeginningOfString=function(e,t){var n="0123456789";
for(var r=t;
r<e.length;
r++)if(n.indexOf(e[r])<0)break;return e.substring(t,r)},its.string.toInt=function(t){return parseInt(t,10)},its.string.isJson=function(t){var n=!1;
if(!its.isEmpty(t)){var r=t.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");
n=/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(r)}return n},its.string.evalJson=function itsStringEvalJson(aString){try{if(its.string.isJson(aString))return eval("("+aString+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+aString)},its.string.allAlphaNumerics="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",its.string.randomAlphaNumericString=function(t){var n="";
for(var r=0;
r<t;
r++)n+=its.string.allAlphaNumerics[Math.floor(its.string.allAlphaNumerics.length*Math.random())];
return n},its.string.generateUuid=function(t,n){var r=null,i=(new Date).getTime()+"";
n||(n=6),t||(t=i.length+n);
if(n>t)throw new Error("its.string.generateUuid cannot generate a string with more random numbers than the max requested string length");
var s=t-n;
return s<i.length&&(i=i.substring(i.length-s)),r=i+its.string.randomAlphaNumericString(n),r},its.string.UUIDv4=function b(e){return e?(e^Math.random()*16>>e/4).toString(16):([1e7]+ -1e3+ -4e3+ -8e3+ -1e11).replace(/[018]/g,b)},its.string.unstringify=function(t){var n=t;
return t!=null&&its.isDefined(t)&&(n=="false"?n=!1:n=="true"?n=!0:/(^-?\d\d*\.\d*$)|(^-?\d\d*$)|(^-?\.\d\d*$)/.test(n)&&(isFinite(parsedNumber=parseFloat(n))?n=parsedNumber:isFinite(parsedNumber=parseInt(n,10))&&(n=parsedNumber))),n},its.string.capitalizeString=function(e){if(e&&e.length>0)return e.charAt(0).toUpperCase()+e.substr(1)},window.its.reflect||(window.its.reflect={}),its.reflect.keys=function keys(e){var keys=[];
for(var t in e)e.hasOwnProperty(t)&&!its.isFunction(e[t])&&keys.push(t);
return keys},its.reflect.hasAnyKeys=function(t){for(var n in t)if(t.hasOwnProperty(n))return!0},its.reflect.hasAnyNonNullKeys=function(t){for(var n in t)if(t.hasOwnProperty(n)&&t[n])return!0},its.reflect.values=function values(e){var values=[];
for(var t in e){var n=e[t];
e.hasOwnProperty(t)&&!its.isFunction(n)&&values.push(n)}return values},its.reflect.methods=function methods(e){var methods=[];
for(var t in e){var n=e[t];
e.hasOwnProperty(t)&&its.isFunction(n)&&methods.push(n)}return methods},its.reflect.copyKeysAndValues=function(t,n){if(t)for(var r in t){var i=t[r];
t.hasOwnProperty(r)&&!its.isFunction(i)&&(n[r]=i)}},its.reflect.invert=function(e){var t={};
for(var n in e)e.hasOwnProperty(n)&&!its.isFunction(e[n])&&(t[e[n]]=n);
return t},window.its.url||(window.its.url={}),its.url.parentDomainWithNumComponents=function(t,n){var r=t;
if(t&&t!=""){var i=t.split("."),s=i.length;
if(s>=n){r="";
while(n)r+=i[s-n],n--,n&&(r+=".")}}return r},its.url.queryParamsDict=function(t){var n=null,r=null;
if(!t)r=window.location.search;
else{var i=t.indexOf("?");
i>=0&&(r=t.substring(i))}return r?n=its.url.parseQueryParams(r):n={},n},its.url.queryParamValue=function(t,n){var r=its.url.queryParamsDict(n);
return r[t]},its.url.parseQueryParams=function(t,n){var r={};
if(t!=null&&t.length>0){t.charAt(0)==="?"&&(t=t.substr(1));
var i=t.indexOf("#");
i!==-1&&(t=t.substr(0,i));
var s=t.split("&");
for(var o=0;
o<s.length;
o++){var u=s[o].split("=");
if(u.length==2){var a=u[1];
n||(a=its.string.urlDecode(a)),r[u[0]]=a}}}return r},its.url.parseHashAnchorParams=function(t){var n={};
t||(t=window.location.hash);
if(t!=null&&t.length>0){t.charAt(0)==="#"&&(t=t.substr(1));
var r=t.split(";");
for(var i=0;
i<r.length;
i++){var s=r[i].split("=");
if(s.length==2){var o=its.string.urlDecode(s[1]);
n[s[0]]=o}else n[r[i]]=""}}return n},its.url.parseHostname=function(t){var n="";
if(t){t=t.toString();
if(t&&t.indexOf("://")>0){var r=t.indexOf("://")+3,i=t.indexOf("/",r);
i===-1&&(i=t.length),n=t.substring(r,i)}}return n},its.url.parseUrlScheme=function(t){var n="";
if(t){t=t.toString();
if(t&&t.indexOf("://")>0){var r=t.indexOf("://");
r===-1&&(r=t.length),n=t.substring(0,r)}}return n},its.url.changeUrlScheme=function(t,n){var r="";
if(t&&n){t=t.toString();
if(t){var i=its.url.parseUrlScheme(t);
r=t.replace(i,n)}}return r},its.url.finalPathComponent=function(t){var n="";
if(t){t=t.toString();
if(t&&t!=""){var r=t.lastIndexOf("/");
if(r==t.length-1&&r>0)var r=t.lastIndexOf(r-1);
r!=t.length-1&&(n=t.substring(r+1)),(r=n.lastIndexOf("/"))!=-1&&(n=n.substring(0,r)),(r=n.lastIndexOf("?"))!=-1&&(n=n.substring(0,r))}}return n},its.url.buildUrlFromMap=function(e){var t=[];
for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];
typeof r!="undefined"&&r!=null&&t.push(n+"="+encodeURIComponent(r))}return t.join("&")},its.url.appendUrlParameter=function(t,n,r){var i={};
return i[n]=r,its.url.appendUrlParameters(t,i)},its.url.appendUrlParameters=function(t,n){if(!n)return t;
var r=its.url.queryParamsDict(t);
for(var i in n)r[i]=n[i];
var s=its.url.buildUrlFromMap(r);
return its.url.appendUrlParametersString(its.url.baseUrl(t),s)},its.url.appendUrlParametersString=function(t,n){t||(t="");
if(!n)return t;
var r=t.indexOf("?")===-1?"?":"&";
return t+=r+n,t},its.url.encodeURIAndComponents=function(e){var t=its.url.queryParamsDict(e),n=encodeURI(its.url.baseUrl(e)),r=[];
for(var i in t)r.push(encodeURIComponent(i+"="+t[i]));
return its.url.appendUrlParametersString(n,r.join("&"))},its.url.baseUrl=function(t){try{var n=t.indexOf("?");
if(n===-1){n=t.indexOf("#");
if(n===-1)return t}}catch(r){if(its&&its.Logger){var i=its.Logger.named("its-base-util");
i.error("Error in its.util.baseUrl: "+r.message,{error:r},!0)}}return t.substring(0,n)},its.url.originalLocationQueryParams=its.url.queryParamsDict(),its.url.originalLocationHashAnchorParams=its.url.parseHashAnchorParams(),its.url.formRedirect=function(t,n,r){var i=document.createElement("form");
i.method=r?"post":"get",i.target=t,i.action=n,document.body.appendChild(i),i.submit()},its.url.openExternalUrl=function(t,n){var r=document.createElement("a");
r.setAttribute("href",t),n=="main"?r.setAttribute("target",n):r.setAttribute("target","_blank");
var i=document.createEvent("MouseEvents");
i.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i)},window.its.cookies||(window.its.cookies={}),its.cookies.EXPIRE_NOW=-1,its.cookies.EXPIRE_SESSION=null,its.cookies.EXPIRE_ONE_SECOND=1,its.cookies.EXPIRE_ONE_MINUTE=its.cookies.EXPIRE_ONE_SECOND*60,its.cookies.EXPIRE_ONE_HOUR=its.cookies.EXPIRE_ONE_MINUTE*60,its.cookies.EXPIRE_ONE_DAY=its.cookies.EXPIRE_ONE_HOUR*24,its.cookies.EXPIRE_ONE_WEEK=its.cookies.EXPIRE_ONE_DAY*7,its.cookies.EXPIRE_ONE_MONTH=its.cookies.EXPIRE_ONE_DAY*31,its.cookies.EXPIRE_SIX_MONTHS=its.cookies.EXPIRE_ONE_MONTH*6-5,its.cookies.EXPIRE_ONE_YEAR=its.cookies.EXPIRE_ONE_DAY*365,its.cookies.EXPIRE_ONE_SIDEREAL_YEAR=its.cookies.EXPIRE_ONE_DAY*365.25,its.cookies.EXPIRE_SIX_MONTHS=its.cookies.EXPIRE_ONE_DAY*180,its.cookies.set=function(t,n,r,i,s){return n&&(n=escape(n)),its.cookies.setUnescaped(t,n,r,i,s)},its.cookies.get=function(t){var n=its.cookies.getUnescaped(t);
return n&&(n=unescape(n)),n},its.cookies.setUnescaped=function(t,n,r,i,s){var o;
i||(i="/");
var u=null;
r&&(u=new Date,u.setTime(u.getTime()+r*1e3));
if(its.sf.Platform&&its.sf.Platform.isITML()){var a={name:t,value:n,path:i,domain:s?s:"",expires:u};
o=its.cookies._setRaw(a)}else{var f=u?u.toUTCString():"",l=s?" domain="+s:"",c=t+"="+n+"; expires="+f+"; path="+i+";"+l;
its.cookies._debugAndUnitTestLastRawSetCookieString=c;
var h=r==void 0||r==its.cookies.EXPIRE_SESSION||r==0,p="sf6"in its&&"Platform"in its.sf6&&its.sf.Platform.device();
if(p&&(h||r<0)){var d=document.cookie=c;
if(h)return d}o=its.cookies._setRaw(c)}return o},its.cookies.getUnescaped=function(t){var n=null,r=its.cookies._debugAndUnitTestCookieGetterWithRawCookieStringOverride||its.cookies._getRaw();
if(r&&t){its.cookies._debugAndUnitTestCookieGetterWithRawCookieStringOverride=null;
var i=r.split(";");
for(var s=i.length-1;
!n&&s>=0;
s--){var o=i[s],u=o.indexOf("=");
if(u>0)if(u+1==o.length)n="";
else{var a=its.string.trim(o.substring(0,u));
a==t&&(its.cookies._debugAndUnitTestLastRawGetCookieString=o,n=its.string.trim(o.substring(u+1)))}}}return n},its.cookies.remove=function(t,n){return its.cookies.setUnescaped(t,".",its.cookies.EXPIRE_NOW,null,n)},"iTunes"in window&&"cookie"in iTunes?its.cookies._cookieOwner="iTunes":typeof itms!="undefined"&&typeof itms.cookie!="undefined"?its.cookies._cookieOwner="itms":its.cookies._cookieOwner="document",its.cookies._setRaw=function(e){return window[this._cookieOwner].cookie=e},its.cookies._getRaw=function(){return window[this._cookieOwner].cookie||""},window.iTSLocalization||(iTSLocalization={}),window.iTSLocalization._strings||(iTSLocalization._strings={}),iTSLocalization.hasLocalizedValue=function(t){var n=iTSLocalization._strings[t];
return its.isDefined(n)},its.loc=function(e,t){var n=iTSLocalization._strings[e];
return typeof n=="undefined"&&(n=e),t&&(n=iTSLocalization.replaceTokens(n,t)),typeof itms=="undefined"&&(n=iTSLocalization.replaceMarkupTokens(n,t)),n},its.locDate=function(e){if(!e)return"";
var t=e.length,n;
if(t>10)n=new Date(e);
else{var r=t>=4?e.slice(0,4):0,i=t>=7?e.slice(5,7):1,s=t>=10?e.slice(8,10):1;
n=new Date(r,i-1,s)}return formatDate(n)},its.locWithMarkupTokens=function(e,t){return iTSLocalization.replaceMarkupTokens(its.loc(e,t),t)},iTSLocalization._strings._showLocKeys&&(its.loc=function(e){return"+"+e+"+"}),its.locWithCount=function(e,t,n){var r=null,i,s;
return t==0&&(i=e+"."+"zero",iTSLocalization.hasLocalizedValue(i)&&(r=i)),r===null&&(r=e,s=iTSLocalization.pluralCategory(t),s!=="other"&&(i=e+"."+s,iTSLocalization.hasLocalizedValue(i)&&(r=i))),n||(n={}),its.isDefined(n.count)||(n.count=its.formatNumber(t)),its.loc(r,n)},iTSLocalization.replaceTokens=function(t,n){if(n)for(var r in n)if(n.hasOwnProperty(r)){var i="@@"+r+"@@";
t=its.string.replace(t,i,n[r])}return t},iTSLocalization.markupParams={nbsp:"&nbsp;",gt:"&gt;",lt:"&lt;",copy:"Â©"},iTSLocalization.replaceMarkupTokens=function(t,n){if(t.indexOf("##")>-1){if(n)for(var r in n)iTSLocalization.markupParams[r.toString()]=n[r];
for(var i in iTSLocalization.markupParams){var s="##"+i+"##";
t=t.replace(new RegExp(s,"gi"),iTSLocalization.markupParams[i])}t=t.replace(/##([^##]+)##/gi,"<$1>")}return t},iTSLocalization.localizedResourceUrlForPathKey=function(t,n){n===undefined&&(n=/https:/.test(window.location.protocol));
var r=n?"https://s.mzstatic.com":"http://r.mzstatic.com";
return r+its.loc(t)},typeof itms!="undefined"&&typeof formatNumber!="undefined"?its.formatNumber=function(e){return formatNumber(Number(e))}:its.formatNumber=function(e){if(typeof iTSLocalization.decimalSeparator=="undefined"){var t=iTSLocalization._strings._decimalSeparator;
typeof t=="undefined"&&(t="."),iTSLocalization.decimalSeparator=t,t=iTSLocalization._strings._thousandsSeparator,typeof t=="undefined"&&(t=","),iTSLocalization.thousandsSeparator=t}var n=parseFloat(e).toString().split("."),r=iTSLocalization.thousandsSeparator,i=n[0].split("");
for(var s=i.length-3;
s>0;
s-=3)i.splice(s,0,r);
n[0]=i.join("");
var o=n.join(iTSLocalization.decimalSeparator);
return o},iTSLocalization._pluralCategoryDefault=function(e){return"other"},iTSLocalization._pluralCategoryOne=function(e){return e==1?"one":"other"},iTSLocalization._pluralCategoryArabic=function(e){var t=e>>0;
if(t!=e)return"other";
if(t===0)return"zero";
if(t===1)return"one";
if(t===2)return"two";
var n=t%100;
return n>=11?"many":n>=3?"few":"other"},iTSLocalization._pluralCategoryFrench=function(e){return e<2&&e>=0?"one":"other"},iTSLocalization._pluralCategoryHebrew=function(e){var t=e>>0;
if(t!=e)return"other";
if(t===1)return"one";
if(t===2)return"two";
var n=t%10;
return n==0&&t>10?"many":"other"},iTSLocalization._pluralCategoryPolish=function(e){var t=e>>0;
if(t!=e)return"other";
if(t===1)return"one";
var n=t%10;
if(n<=4&&n>=2){var r=t%100;
if(r>14||r<12)return"few"}return"many"},iTSLocalization._pluralCategoryRomanian=function(e){var t=e>>0;
if(t!=e)return"few";
if(t===0)return"few";
if(t===1)return"one";
var n=e%100;
return n<=19&&n>=1?"few":"other"},iTSLocalization._pluralCategoryRussian=function(e){var t=e>>0;
if(t!=e)return"other";
var n=t%10;
if(n>=5||n==0)return"many";
var r=t%100;
return r<=14&&r>=11?"many":n==1?"one":"few"},iTSLocalization._pluralCategoryFnByLanguage={zh:iTSLocalization._pluralCategoryDefault,id:iTSLocalization._pluralCategoryDefault,ja:iTSLocalization._pluralCategoryDefault,ko:iTSLocalization._pluralCategoryDefault,ms:iTSLocalization._pluralCategoryDefault,th:iTSLocalization._pluralCategoryDefault,vi:iTSLocalization._pluralCategoryDefault,en:iTSLocalization._pluralCategoryOne,ca:iTSLocalization._pluralCategoryOne,da:iTSLocalization._pluralCategoryOne,nl:iTSLocalization._pluralCategoryOne,de:iTSLocalization._pluralCategoryOne,el:iTSLocalization._pluralCategoryOne,fi:iTSLocalization._pluralCategoryOne,hu:iTSLocalization._pluralCategoryOne,it:iTSLocalization._pluralCategoryOne,nb:iTSLocalization._pluralCategoryOne,no:iTSLocalization._pluralCategoryOne,pt:iTSLocalization._pluralCategoryOne,es:iTSLocalization._pluralCategoryOne,sv:iTSLocalization._pluralCategoryOne,tr:iTSLocalization._pluralCategoryOne,ar:iTSLocalization._pluralCategoryArabic,fr:iTSLocalization._pluralCategoryFrench,iw:iTSLocalization._pluralCategoryHebrew,pl:iTSLocalization._pluralCategoryPolish,ro:iTSLocalization._pluralCategoryRomanian,ru:iTSLocalization._pluralCategoryRussian},iTSLocalization.pluralCategory=function(e){if(its.serverData&&its.serverData.constants){var t=iTSLocalization._pluralCategoryFnByLanguage[its.serverData.constants.languageCode];
if(t)return t(e);
if(its.Logger){var n=its.Logger.named("its-base-util");
n.error("missing plural category function for: "+its.serverData.constants.languageCode,!0)}}return"other"},its.isXMLResponse=function(e){var t,n="content-type";
try{t=e&&e.getResponseHeader(n)}catch(r){t=""}return t&&its.string.startsWith(t,"text/xml")},its.plistDictGetValue=function(t,n){if(!t)return;var r=t.childNodes.length,i=null;
for(var s=0;
s<r;
s++){var o=t.childNodes[s];
if(o.nodeType===Node.ELEMENT_NODE){if(i)return o.nodeName==="array"||o.nodeName==="dict"?o:o.textContent;
o.nodeName==="key"&&o.textContent===n&&(i=o)}}},its.plistDictRemoveValue=function(t,n){if(!t)return;var r=t.childNodes.length,i=null,s=null;
for(var o=0;
o<r;
o++){var u=t.childNodes[o];
if(u.nodeType===Node.ELEMENT_NODE){if(i){s=u;
break}u.nodeName==="key"&&u.textContent===n&&(i=u)}}i&&s&&(t.removeChild(i),t.removeChild(s))},its.plistDictAddDict=function(t,n,r){if(!t)return;var i=document.createElement("key");
i.textContent=n;
var s=document.createElement("dict");
if(r&&Array.isArray(r))for(var o=0;
o<r.length;
o++)s.appendChild(r[o]);
t.appendChild(i),t.appendChild(s)},its.plistDictAddKeyValue=function(t,n,r){if(!t)return;var i=document.createElement("key");
i.textContent=n;
var s=document.createElement("string");
s.textContent=r,t.appendChild(i),t.appendChild(s)},its.plistDictAddKeyValuePairs=function(t,n){if(!t)return;for(var r in n){if(!n.hasOwnProperty(r))continue;its.plistDictAddKeyValue(t,r,n[r])}},its._dataCache={},its.property=function(e,t){return t||(returnValue=its._dataCache[e]),returnValue==undefined&&(returnValue=its.value("its.serverData.properties",e,!0,t)),returnValue},its.pageData=function(e,t){return t||(returnValue=its._dataCache[e]),returnValue==undefined&&(returnValue=its.value("its.serverData.pageData",e,!0,t)),returnValue},its.valueOverride=function(e,t){var n;
return e&&(t||(n=its._dataCache[e]),n==undefined&&(n=its.string.unstringify(its.url.originalLocationQueryParams[e])),n==undefined&&(n=its.string.unstringify(sessionStorage.getItem(e)),n===null&&(n=undefined)),n==undefined&&(n=its.string.unstringify(localStorage.getItem(e)),n===null&&(n=undefined)),n==undefined&&window.itsv&&(n=window.itsv[e]),!t&&its.isDefined(e)&&its.isDefined(n)&&(its._dataCache[e]=n)),n},its.value=function(dataPath,key,useOverrideIfAvailable,noCache){its.value.totalCount++;
var returnValue,keyIsDefined=its.isDefined(key),cacheKey=keyIsDefined?key:dataPath;
if(its.isDefined(cacheKey)){useOverrideIfAvailable&&keyIsDefined&&(returnValue=its.valueOverride(key,noCache));
if(returnValue==undefined){its.value.cacheMissCount++,noCache||(returnValue=its._dataCache[cacheKey]);
if(returnValue==undefined){var objectAtDataPath;
try{objectAtDataPath=eval(dataPath)}catch(anException){}if(objectAtDataPath!=undefined)if(keyIsDefined){returnValue=objectAtDataPath[key];
if(returnValue==undefined)try{returnValue=eval(dataPath+"."+key)}catch(anException){}}else returnValue=objectAtDataPath}}!noCache&&its.isDefined(returnValue)&&(its._dataCache[cacheKey]=returnValue)}return returnValue},its.setPropertyOverride=function(e,t,n){return its.setValueOverride(e,t,n)},its.setPageDataOverride=function(e,t,n){return its.setValueOverride(e,t,n)},its.setValueOverride=function(e,t,n){var r=null;
e?its.isDefined(t)||(r="Invalid value"):r="Invalid key";
if(r)throw new Error(r+". Usage: set[Property|Value]Override(key, value, usePermanentStorage)");
var i=null;
delete its._dataCache[e],its.removeValueOverride(e);
var s=null;
return n?s=localStorage:s=sessionStorage,s.setItem(e,t),i=s[e],i},its.removePropertyOverride=function(e){return its.removeValueOverride(e)},its.removePageDataOverride=function(e){return its.removeValueOverride(e)},its.removeValueOverride=function(key){delete its._dataCache[key],sessionStorage.removeItem(key),localStorage.removeItem(key);
try{returnValue=eval("delete window.itsv."+key)}catch(anException){}return key},its.value.totalCount=0,its.value.cacheMissCount=0,its.flushDataCache=function(){its._dataCache={}},its.screenReaderRunning=function(){if(typeof iTunes!="undefined"){if(iTunes.hasOwnProperty("screenReaderRunning"))return iTunes.screenReaderRunning;
if(iTunes.screenReaderRunning&&typeof iTunes.screenReaderRunning=="function")return iTunes.screenReaderRunning()}return!1}(),its.sf.Events={PAGE_LOAD:"its.sf.Events.PAGE_LOAD",PAGE_UNLOAD:"its.sf.Events.PAGE_UNLOAD"},window.its||(window.its={}),its.sf||(its.sf={}),its.notifications={_subscribers:{},_unboundSubscribers:{},subscribe:function(e,t,n,r,i,s){var o=this.senderId(n)||r;
i&&(t.filter=i),s&&(t.eventGroupId=s),o?(this._subscribers[e]||(this._subscribers[e]={}),this._subscribers[e][o]||(this._subscribers[e][o]=[]),this._subscribers[e][o].push(t)):(this._unboundSubscribers[e]||(this._unboundSubscribers[e]=[]),this._unboundSubscribers[e].push(t))},senderId:function(e){var t=null;
return e&&(e.__senderId||(e.__senderId=its.notifications.createSenderId()),t=e.__senderId),t},subscribeToSender:function(e,t,n,r,i){this.subscribe(e,t,n,null,r,i)},subscribeToTarget:function(e,t,n,r,i){this.subscribe(e,t,null,n,r,i)},unsubscribe:function(e,t,n,r){var i=this.senderId(n)||r;
if(this._subscribers[e]&&this._subscribers[e][i]){var s=this._subscribers[e][i].indexOf(t);
s>=0&&this._subscribers[e][i].splice(s,1)}if(this._unboundSubscribers[e]){var s=this._unboundSubscribers[e].indexOf(t);
s>=0&&this._unboundSubscribers[e].splice(s,1)}},publish:function(e,t,n,r){var i=this.senderId(n)||r,s=t||{};
s.eventInfo={name:e,sender:n,targetId:r},this._subscribers[e]&&this._sendNotification(e,this._subscribers[e][i],s),this._sendNotification(e,this._unboundSubscribers[e],s)},publishToSender:function(e,t,n){this.publish(e,t,n,null)},publishToTarget:function(e,t,n){this.publish(e,t,null,n)},remove:function(e){this._subscribers[e]&&delete this._subscribers[e],this._unboundSubscribers[e]&&delete this._unboundSubscribers[e]},removeEventGroup:function(e){var t=function(t){return t.eventGroupId!=e};
for(var n in this._subscribers){var r=this._subscribers[n];
for(var i in r){var s=r[i],o=s.filter(t);
o.length?this._subscribers[n][i]=o:delete this._subscribers[n][i]}}for(var n in this._unboundSubscribers){var u=this._unboundSubscribers[n],o=u.filter(t);
o.length?this._unboundSubscribers[n]=o:delete this._unboundSubscribers[n]}},getEventGroupSubscribers:function(e){var t={},n={};
for(var r in this._subscribers){var i=this._subscribers[r];
for(var s in i){var o=i[s];
for(var u in o){var a=o[u];
a.eventGroupId==e&&(t[r]||(t[r]={}),t[r][s]||(t[r][s]=[]),t[r][s].push(a))}}}for(var r in this._unboundSubscribers){var f=this._unboundSubscribers[r];
for(var u in f){var a=f[u];
a.eventGroupId==e&&(n[r]||(n[r]=[]),n[r].push(a))}}return{bound:t,unbound:n}},addEventGroupSubscribers:function(e,t){if(this.totalSubscriberCountForGroupId(e)!=0)debugger;if(t&&t.bound&&t.unbound){var n=t.bound,r=t.unbound;
for(var i in n){var s=n[i];
for(var o in s){var u=s[o];
for(var a in u){var f=u[a];
this.subscribeToTarget(i,f,o,f.filter,e)}}}for(var i in r){var l=r[i];
for(var a in l){var f=l[a];
this.subscribe(i,f,null,null,null,e)}}}},totalSubscriberCount:function(){var e=0;
for(var t in this._subscribers){var n=this._subscribers[t];
for(var r in n)e+=n[r].length}for(var t in this._unboundSubscribers)e+=this._unboundSubscribers[t].length;
return e},totalSubscriberCountForGroupId:function(e){var t=function(t){return t.eventGroupId==e},n=0;
for(var r in this._subscribers){var i=this._subscribers[r];
for(var s in i){var o=i[s],u=o.filter(t);
n+=u.length}}for(var r in this._unboundSubscribers){var a=this._unboundSubscribers[r],u=a.filter(t);
n+=u.length}return n},hasListeners:function(e,t,n){var r=this.senderId(t)||n;
return this._subscribers[e]&&this._subscribers[e][r]||this._unboundSubscribers[e]?!0:!1},_sendNotification:function(e,t,n){if(t)for(var r=0,i=t.length;
r<i;
r++){var s=t[r];
if(s){var o=s.filter;
(!o||o(n))&&s(n)}}}},its.notifications.createSenderId=function(){var e=0;
return function(){var t="senderId"+e;
return e++,t}}(),its.sf.DelayedCallQueue.objectReady("its.notifications"),window.its||(window.its={}),window.its.ui||(window.its.ui={}),its.ui.Constants={},its.ui.Constants.SRC_ATTRIBUTE_KEY="src",its.ui.Constants.SRC_SWAP_ATTRIBUTE_KEY_PREFIX="src-swap-",its.ui.Attributes={},its.ui.Attributes.SRC_SWAP_ATTRIBUTE_KEY="src-swap",its.ui.Attributes.SRC_LOAD_MANUAL_ON_DEMAND_MODIFIER_ATTRIBUTE_KEY="src-load-manual-on-demand",its.ui.Attributes.SRC_LOAD_AUTO_AFTER_DOM_LOAD_MODIFIER_ATTRIBUTE_KEY="src-load-auto-after-dom-load",its.ui.Attributes.SRC_LOAD_AUTO_AT_PAGE_LOAD_MODIFIER_ATTRIBUTE_KEY="src-load-auto-at-page-load",its.ui.Attributes.SRC_LOAD_AUTO_AFTER_PAGE_LOAD_MODIFIER_ATTRIBUTE_KEY="src-load-auto-after-page-load",its.ui.Attributes.SRC_LOAD_AUTO_AFTER_PAGE_LOAD_IF_NOT_ONSCREEN_MODIFIER_ATTRIBUTE_KEY="src-load-auto-after-page-load-if-not-onscreen",its.ui.Selectors={},its.ui.Selectors.SRC_SWAP_SELECTOR="img["+its.ui.Attributes.SRC_SWAP_ATTRIBUTE_KEY+"]",its.ui.Debug={},its.ui.Debug.SRC_WAS_FORCED_ATTRIBUTE_KEY="src-was-force-unhidden",its.ui.Debug.SRC_WAS_DELAYED_ATTRIBUTE_KEY="src-was-delayed",its.ui.Debug.SRC_WAS_INTENTIONALLY_LEFT_UNSET="src-was-intentionally-left-unset",its.ui.Debug.SRC_WAS_AUTO_DELAYED_ATTRIBUTE_KEY="src-was-auto-delayed-with-onscreen-test",its.ui.Debug.SRC_WAS_DELAYED_FOR_SWAPPING_ATTRIBUTE_KEY="src-was-delayed-for-swapping",its.ui.Debug.SRC_WAS_SWAPPED_ATTRIBUTE_KEY="src-was-swapped",its.ui.setDebugAttribute=function(t,n,r){its.kit&&its.kit.isDebugEnabled()&&t.setAttribute(n,r)},its.ui.isImageComplete=function(t){var n=t.complete&&t.src&&!its.contains(t.src,"/p.png");
return n=t.complete&&t.src,n},its.ui.hiddenImagesWithAncestor=function(t){var n=null;
return!t||!t.querySelectorAll?its.client.log("error calling its.ui.hiddenImagesWithAncestor for element: "+t):n=t.querySelectorAll(its.ui.Selectors.SRC_SWAP_SELECTOR),n},its.ui.unhideImages=function(t,n,r){t&&t.each(function(t){var i=t.getAttribute(its.ui.Attributes.SRC_SWAP_ATTRIBUTE_KEY),s=i&&(n||t.getAttribute(its.ui.Attributes.SRC_LOAD_MANUAL_ON_DEMAND_MODIFIER_ATTRIBUTE_KEY)!=null||its.kit.domLoaded()&&t.getAttribute(its.ui.Attributes.SRC_LOAD_AUTO_AFTER_DOM_LOAD_MODIFIER_ATTRIBUTE_KEY)!=null||its.kit.pageLoaded()&&t.getAttribute(its.ui.Attributes.SRC_LOAD_AUTO_AT_PAGE_LOAD_MODIFIER_ATTRIBUTE_KEY)!=null||its.kit.afterPageLoaded()&&t.getAttribute(its.ui.Attributes.SRC_LOAD_AUTO_AFTER_PAGE_LOAD_MODIFIER_ATTRIBUTE_KEY)!=null);
if(s){var o=null;
for(var u in its.ui.Attributes){var a=its.ui.Attributes[u];
!o&&a!=its.ui.Attributes.SRC_SWAP_ATTRIBUTE_KEY&&t.getAttribute(a)!=null&&(o=a),t.removeAttribute(a)}o||(o="true"),its.ui.setDebugAttribute(t,its.ui.Debug.SRC_WAS_DELAYED_ATTRIBUTE_KEY,o);
var f=!1;
if(its.property("sfdImageLeaveSrcBlankForTimingTestsForLoadType")){var l=its.propertys("sfdImageLeaveSrcBlankForTimingTestsForLoadType");
f=l&&l.toLowerCase()=="all",f||(f=l==o);
if(!f){var c=its.property("sfdImageLeaveSrcBlankForTimingTestsForLoadType")==its.ui.Attributes.SRC_LOAD_AUTO_AFTER_PAGE_LOAD_IF_NOT_ONSCREEN_MODIFIER_ATTRIBUTE_KEY;
f=t.getAttribute(its.ui.Debug.SRC_WAS_AUTO_DELAYED_ATTRIBUTE_KEY)&&c&&o==its.ui.Attributes.SRC_LOAD_AUTO_AFTER_PAGE_LOAD_MODIFIER_ATTRIBUTE_KEY}}f?(its.client.log("image src is null"),its.ui.setDebugAttribute(t,its.ui.Debug.SRC_WAS_INTENTIONALLY_LEFT_UNSET,"true")):(its.ui.markImageCompleteAfterLoad(t),t.src=i),n&&its.ui.setDebugAttribute(t,its.ui.Debug.SRC_WAS_FORCED_ATTRIBUTE_KEY,"true"),r&&r(t)}})},its.ui.unhideImagesWithAncestor=function(t,n,r){its.ui.unhideImages(its.ui.hiddenImagesWithAncestor(t),n,r)},its.ui.markImageCompleteAfterLoad=function(t){if(!its.ui.isImageComplete(t)){var n=function(){this.addClassName("complete")};
t.addEventListener("load",n),t.addEventListener("error",n),t.addEventListener("abort",n)}else t.addClassName("complete")},its.ui.markImagesCompleteAfterLoad=function(t){t.each(function(e){its.ui.markImageCompleteAfterLoad(e)})},its.ui.markImagesWithAncestorCompleteAfterLoad=function(t){if(!t||!t.querySelectorAll){its.client.log("error calling its.ui.markImagesWithAncestorCompleteAfterLoad for rootElement");
return}var n=t.querySelectorAll("img[src]:not(.complete)");
its.ui.markImagesCompleteAfterLoad(n)},its.ui.baseImagePath=function(t){var n=document.querySelector("meta[name='resource-image-path']");
if(n){var r=n.getAttribute("content");
return t&&r.indexOf("/"+t+"/")==-1&&(r=r.replace(/\/[^\/]+\/images\//,"/"+t+"/images/")),r}return null},its.ui.pathForImage=function(t,n){var r=its.ui.baseImagePath(t);
return r!=null?r+n:n},its.ui.fadeOutAndRemoveFromDom=function(e){e&&(e.style.webkitTransitionProperty="opacity",e.style.webkitTransitionDuration="0.5s",setTimeout(function(){e.style.opacity="0"},0),setTimeout(function(){e.parentElement.removeChild(e)},500))},window.its||(window.its={}),its.x||(its.x={}),its.x.element||(its.x.element={}),its.x.element.logger=function(){return its.x.element.loggerInstance?its.x.element.loggerInstance:(window.ITSLogger&&ITSLogger.level?its.x.element.loggerInstance=new ITSLogger("ITSXBaseElement"):its.Logger&&(its.x.element.loggerInstance=its.Logger.named("ITSXBaseElement")),its.x.element.loggerInstance)},its.rootResourcesPathFromCssFilename=function(t){var n=null;
for(var r=0;
!n&&r<document.styleSheets.length;
r++){var i=document.styleSheets[r];
if(i.href){var s=i.href.indexOf("stylesheets/"+t);
s==-1&&(s=i.href.indexOf(t)),s!=-1&&(n=i.href.substring(0,s))}}return n},its.imagesPath=function(t){var n=null,r=its.rootResourcesPathFromCssFilename(t);
return r&&(n=r+"images/"),n},its.x.uniquifyId=function(t){var n=t,r=100;
do n=t+"-"+r++;
while(document.getElementById(n));
return n},its.x.removeClassNames=function(t,n){for(var r=0;
r<t.length;
r++)its.x.element.removeClassName(t[r],n)},its.x.element._printAll=function(){for(var t in its.x.element){var n=its.x.element[t],r=its.dev.parseFunctionArgsToArray(n),i=r.shift(),s=r.join(", ");
console.log("Element.prototype."+t+"("+s+")")}},its.x.element.altTag=function(t){return t.getAttribute("alt")},its.x.element.isOverflowing=function(t){var n=its.x.element.getComputedStyleProperty(t,"overflow");
if(!n||n==="visible")t.style.overflow="hidden";
var r=t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight;
return r},its.x.element.isShowingEllipsis=function(t){var n=its.x.element.isOverflowing(t),r="ellipsis",i="532",s=its.webkitVersion();
its.webkitVersionCompare(s,i)>0&&(r=its.x.element.getComputedStyleProperty(t,"text-overflow"));
var o=r=="ellipsis";
return n&&o},its.x.element.getAttributesStartingWith=function(t,n){var r=null;
for(var i=0;
i<t.attributes.length;
i++){var s=t.attributes.item(i).nodeName;
its.string.startsWith(s,n)&&(r==null&&(r=[]),r.push(s))}return r},its.x.element.removeAttributes=function(t,n){if(n)for(var r=0;
r<n.length;
r++)t.removeAttribute(n[r])},its.x.element.removeAttributesStartingWith=function(t,n){var r=its.x.element.getAttributesStartingWith(t,n);
its.x.element.removeAttributes(t,r)},its.x.element.getIntAttribute=function(t,n){var r=t.getAttribute(n);
return r!=null&&(r=its.string.toInt(r)),r},its.x.element.getBooleanAttribute=function(t,n){var r=t.getAttribute(n);
return r!=null?"true"==r:!1},its.x.element.getAttributeWithDefault=function(t,n,r){var i=t.getAttribute(n);
if(i===null||i===undefined)i=r;
return i},its.x.element.getAttributeOfElementOrAncestor=function(e,t){return its.x.element.elementOrAncestorByFunction(e,function(e){return e.hasAttribute(t)})},its.x.element.getAttributeValuesOfChildren=function(t,n){var r=[];
for(var i=0;
i<t.children.length;
i++){var s=t.children[i].getAttribute(n);
s&&r.push(s)}return r},its.x.element.hasClassName=function(t,n){return(new RegExp("(?:^|\\s+)"+n+"(?:\\s+|$)")).test(t.className)},its.x.element.hasClassNames=function(t,n){for(var r=0;
r<n.length;
r++)if(!its.x.element.hasClassName(t,n[r]))return!1;
return!0},its.x.element.addClassName=function(t,n){its.isEmpty(its.string.trim(n))||its.x.element.hasClassName(t,n)||(t.className&&t.className!=""?t.className=t.className+" "+n:t.className=n)},its.x.element.classNameStartingWith=function(t,n){var r=its.x.element.classNamesStartingWith(t,n),i=r.length?r[0]:null;
return i},its.x.element.classNamesStartingWith=function(t,n){var r=t.className.split(" "),i=[];
for(var s=0;
s<r.length;
s++)its.string.startsWith(r[s],n)&&i.push(r[s]);
return i},its.x.element.removeClassNamesStartingWith=function(t,n){var r=its.x.element.classNamesStartingWith(t,n);
if(r&&r.length)for(var i=0;
i<r.length;
i++)its.x.element.removeClassName(t,r[i])},its.x.element.removeClassName=function(t,n){if(its.x.element.hasClassName(t,n)){var r=t.className;
t.className=its.string.trim(r.replace(new RegExp("(?:^|\\s+)"+n+"(?:\\s+|$)","g")," "))}},its.x.removeClassNames=function(t,n,r){for(var i=0;
i<t.length;
i++)(!r||t[i]!=r)&&its.x.element.removeClassName(t[i],n)},its.x.element.toggleClassName=function(t,n){its.x.element[its.x.element.hasClassName(t,n)?"removeClassName":"addClassName"](t,n)},its.x.element.replaceClassName=function(t,n,r){its.x.element.removeClassName(t,n),its.x.element.addClassName(t,r)},its.x.element.getComputedStyleProperty=function(t,n){return getComputedStyle(t).getPropertyValue(n)},its.x.element.getPosition=function(t){var n=t,r=new Object;
r.left=r.top=0;
if(n.offsetParent)do r.left+=n.offsetLeft,r.top+=n.offsetTop;
while(n=n.offsetParent);
n=t;
do{if(n===document.body)break;r.left-=n.scrollLeft!=undefined?n.scrollLeft:0,r.top-=n.scrollTop!=undefined?n.scrollTop:0}while(n=n.parentNode);
return r.right=r.left+t.offsetWidth,r.bottom=r.top+t.offsetHeight,r},its.x.element.center=function(t,n){n=="fixed"?t.style.position="fixed":t.style.position="absolute",t.style.top="50%",t.style.left="50%",t.style.marginTop=0,t.style.marginTop=-(its.x.element.offsetHeightPlusMargin(t)/2)+"px",t.style.marginLeft=0,t.style.marginLeft=-(its.x.element.offsetWidthPlusMargin(t)/2)+"px"},its.x.element.offsetWidthPlusMargin=function(t){return t.offsetWidth+its.x.element.marginWidth(t)},its.x.element.offsetWidthLessPadding=function(t){return t.offsetWidth-its.x.element.paddingWidth(t)},its.x.element.usableContentWidth=function(t){return t.clientWidth-its.x.element.paddingWidth(t)},its.x.element.marginWidth=function(t){return its.string.toInt(its.x.element.getComputedStyleProperty(t,"margin-left"))+its.string.toInt(its.x.element.getComputedStyleProperty(t,"margin-right"))},its.x.element.paddingWidth=function(t){return its.string.toInt(its.x.element.getComputedStyleProperty(t,"padding-left"))+its.string.toInt(its.x.element.getComputedStyleProperty(t,"padding-right"))},its.x.element.offsetHeightPlusMargin=function(t){return t.offsetHeight+its.x.element.marginHeight(t)},its.x.element.offsetHeightLessPadding=function(t){return t.offsetHeight+its.x.element.paddingHeight(t)},its.x.element.marginHeight=function(t){return its.string.toInt(its.x.element.getComputedStyleProperty(t,"margin-top"))+its.string.toInt(its.x.element.getComputedStyleProperty(t,"margin-bottom"))},its.x.element.paddingHeight=function(t){return its.string.toInt(its.x.element.getComputedStyleProperty(t,"padding-top"))+its.string.toInt(its.x.element.getComputedStyleProperty(t,"padding-bottom"))},its.x.element.lineCount=function(t){return its.string.toInt(its.x.element.getComputedStyleProperty(t,"height"))/its.string.toInt(its.x.element.getComputedStyleProperty(t,"line-height"))},its.x.element.webkitLineClamp=function(t){return its.string.toInt(its.x.element.getComputedStyleProperty(t,"-webkit-line-clamp"))},its.x.element.isMultiLineTruncated=function(t){return its.x.element.webkitLineClamp(t)!=null&&t.clientHeight<t.scrollHeight},its.x.element.isMultiLineTruncatedK2=function(t){return its.x.element.webkitLineClamp(t)!=null&&t.clientHeight<t.scrollHeight},its.x.element.isVisible=function(t,n){var r=t,i=!0,s=null,o=null,u=null,a=null,f=its.x.element.logger(),l=!1,c=null;
while(i&&r){c=null,s=getComputedStyle(r);
if(s){o=s.getPropertyValue("display"),u=s.getPropertyValue("visibility"),a=s.getPropertyValue("opacity"),o==="none"?c="display":u==="hidden"?c="visibility":a=="0"&&(c="opacity");
if(c){i=!1;
var h=window.ITSLogger&&ITSLogger.level?ITSLogger.level()==ITSLogger.DEBUG:its.Logger&&f.isAnyDebugLevel?f.isAnyDebugLevel():!1;
if(h){var p=l?"ancestor.":"element.";
f.debug("isVisible: "+p+"notVisible due to "+c)}}}r=n?r.parentNode:null,r&&(l=!0)}return i},its.x.element.isOnscreen=function(t){var n=its.x.element.isVisible(t),r=its.x.element.logger();
if(n){var i=!1,s=t.getBoundingClientRect(),o={top:s.top,bottom:s.bottom,left:s.left,right:s.right,width:s.width,height:s.height},u=t.parentNode,a=parseInt(t.getAttribute("width"),10),f=parseInt(t.getAttribute("height"),10);
a&&(o.width=a,o.right=o.left+a),f&&(o.height=f,o.bottom=o.top+f);
while(n&&u&&!i&&its.x.element.isVisible(u)){var l=getComputedStyle(u);
if(l&&l.getPropertyValue("position")=="absolute")i=!0;
else{var c=u.getBoundingClientRect?u.getBoundingClientRect():null;
if(c){var h=!its.geometry.doesRectIntersectRect(o,c);
h&&u.style.overflow=="hidden"&&(n=!1),n||r.debug("isOnscreen: elementIsOnscreen = false due to child out of overflow:hidden ancestor")}u=u.parentNode}}if(n){var p={top:0,bottom:window.innerHeight,left:0,right:window.innerWidth};
n=its.geometry.doesRectIntersectRect(o,p),n||r.debug("isOnscreen: elementIsOnscreen = false due to element being outside of window bounds")}}else r.debug("isOnscreen: image.isVisible() = false");
return n},its.x.element.rectString=function(t,n){var r=t.getBoundingClientRect();
return n?n+=". ":n="",n+t.tagName+" - left:"+r.left+", right:"+r.right+", top:"+r.top+", bottom:"+r.bottom},its.x.element.show=function(t,n){t.style.display=n||"block";
var r=t;
setTimeout(function(){r.style.opacity="1"},0)},its.x.element.hide=function(t){var n=function(e){e.target.style.display="none",e.target.removeEventListener("webkitTransitionEnd",n,!1)};
t.style.opacity="0",its.x.element.getComputedStyleProperty(t,"-webkit-transition-duration")!=="0s"?t.addEventListener("webkitTransitionEnd",n,!1):t.style.display="none"},its.x.element.toggle=function(t,n){var r=t.style.display=="none";
return r?its.x.element.show(t,n):its.x.element.hide(t),r},its.x.element.moveToBottom=function(t){var n=t.parentNode;
n&&(its.x.element.remove(t),n.appendChild(t))},its.x.element.insertBeforeElement=function(t,n){n&&t.parentNode&&t.parentNode.insertBefore(n,t)},its.x.element.insertAfter=function(t,n){n&&t.parentNode&&t.parentNode.insertBefore(n,t.nextSibling)},its.x.element.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)},its.x.element.clear=function(t){t.innerHTML=""},its.x.element.replace=function(t,n){if(t.parentNode)return t.parentNode.replaceChild(n,t)},its.x.element.localSearch=function(t,n){var r=t,i;
do i=r.querySelectorAll(n),r=r.parentNode;
while(r&&r!=document&&i.length<1);
return i},its.x.element.elementOrAncestorByFunction=function(t,n){while(t&&t!=document){if(n(t))return t;
t=t.parentNode}return null},its.x.element.parentByAttributeName=function(t,n){return its.x.element.elementOrAncestorByFunction(t.parentNode,function(e){return e.hasAttribute(n)})},its.x.element.parentByClassName=function(t,n){return its.x.element.elementOrAncestorByFunction(t.parentNode,function(e){return its.x.element.hasClassName(e,n)})},its.x.element.parentByTagName=function(t,n){return its.x.element.elementOrAncestorByFunction(t.parentNode,function(e){return e.tagName.toLowerCase()===n.toLowerCase()})},its.x.element.parentBySelector=function(t,n){var r=document.querySelectorAll(n),s=r.length;
return its.x.element.elementOrAncestorByFunction(t,function(e){for(i=0;
i<s;
i++)if(r[i]===e)return!0;
return!1})},its.x.element.containsElement=function(t,n){return its.x.element.elementOrAncestorByFunction(n,function(e){return e===t})||!1},its.x.element.itsInnerText=function(t,n){var r=t.innerText;
return its.isEmpty(r)&&typeof t.textContent!="undefined"&&(r=t.textContent,n||(r=its.string.trim(r))),r},window.its||(window.its={}),its.files||(its.files={}),its.files["its-base-element.js"]=!0,String.prototype.toInt=function(){return its.string.toInt(this)},Number.prototype.addWithLoopingMax=function(t,n){var r=(this+t)%(n+1);
return r<0&&(r=n+r+1),r},Number.prototype.times=function(t,n){for(var r=0;
r<this;
r++)t.call(n,r)};
const EachLoopBreak="break",EachLoopContinue="continue";
(function(){var e=[NodeList,HTMLCollection,Array],t=e.length;
for(var n=0;
n<t;
n++){var r=e[n];
r.prototype.each=function i(i,e){var t=this.length;
for(var n=0;
n<t;
n++){var r=i.call(e,this[n],n);
if(r!=undefined){if(r==EachLoopBreak)break;if(r==EachLoopContinue)continue}}return this},r.prototype.except=function(t,n,r){var i=this.length;
for(var s=0;
s<i;
s++)this[s]!==t&&n.call(r,this[s],s)},r.prototype.first=function(){if(this[0])return this[0]},r.prototype.last=function(){var t=this.length-1;
if(this[t])return this[t]},r.prototype.empty=function(){return this.length==0},r.prototype.includes=function s(e){var s=!1;
return this.each(function(t){e===t&&(s=!0)}),s},r.prototype.index=function o(e){var t=this.length,o=-1;
for(var n=0;
n<t;
n++)if(this[n]===e){o=n;
break}return o},r.prototype.map||(r.prototype.map=function(t){var n=new Array;
return this.each(function(e){n.push(t(e))}),n}),r.prototype.mapAttribute=function(t){return this.map(function(e){return e[t]})},r.prototype.select=function(t){var n=new Array;
return this.each(function(e){var r=t(e);
r&&n.push(e)}),n},r.prototype.remove=function(t){if(t.each)return t.each(function(e){this.remove(e)},this),this;
var n=this.index(t);
return n>=0&&this.splice(n,1),this},r.prototype.addEventListeners=function(t,n,r){this.each(function(e){e.addEventListener(t,n,r)})},r.prototype.removeEventListeners=function(t,n,r){this.each(function(e){e.removeEventListener(t,n,r)})},r.prototype.hide=function(){this.each(function(e){e.hide()})},r.prototype.show=function(){this.each(function(e){e.show()})},r.prototype.max=function(){return Math.max.apply(Math,this)},r.prototype.min=function(){return Math.min.apply(Math,this)},r.prototype.sum=function u(){var u=0;
return this.each(function(e){u+=e}),u},r.prototype.toArray=function(){var t=new Array;
return this.each(function(e){t.push(e)}),t},r.prototype.addClassNames=function(t){this.each(function(e){e.addClassName(t)})},r.prototype.removeClassNames=function(t){this.each(function(e){e.removeClassName(t)})}}})(),Array.prototype.pushEach=function(e){var t=e.length;
for(var n=0;
n<t;
n++)this.push(e[n])},CSSStyleDeclaration.prototype.animation_transition=function(e,t,n){e=="transform"&&(e="-webkit-transform"),this.webkitTransition=e+" "+t/1e3+"s "+n},CSSStyleDeclaration.prototype.clear_animation_transition=function(e){this.animation_transition(e,0,"")},CSSStyleDeclaration.prototype.animation_translateY=function(e){this.webkitTransform="translate3d(0,"+e+",0)"},CSSStyleDeclaration.prototype.animation_translateX=function(e){this.webkitTransform="translate3d("+e+",0,0)"},CSSStyleDeclaration.prototype.topInPx=function(e){this.top=e+"px"},CSSStyleDeclaration.prototype.bottomInPx=function(e){this.bottom=e+"px"},function(){for(var e in its.x.element)Element.prototype[e]=function(e){return function(){var t=its.toArray(arguments);
return t.unshift(this),e.apply(this,t)}}(its.x.element[e])}(),function(e,t){e.its||(e.its={});
var n=e.its;
if(n.kit)return;n.kit={_domContentLoaded:!1,_pageLoaded:!1,_afterPageLoaded:!1,_preloadListeners:[],_domReadyListeners:[],_loadListeners:[],_afterLoadListeners:[],_domInsertedListeners:null,preload:function(){s.preload()},onPreload:function(e){this._preloadListeners.push(e)},onDomReady:function(e){this._domContentLoaded?e():this._domReadyListeners.push(e)},onLoad:function(e){this._pageLoaded?e():this._loadListeners.push(e)},onAfterLoad:function(e){this._afterPageLoaded?e():this._afterLoadListeners.push(e)},onDomInserted:function(e){var t=this._domInsertedListeners=this._domInsertedListeners||[];
t.push(e)},createController:function(e,t){r._debug.isEnabled()&&r._debug.controllerNameMatchesFilter(e)&&console.log("Creating controller matching filterControllerNameSubstring: "+e);
var n=this._util.newController(e,t),i=n.newClass();
return this._controllers[n.name]=i,this._domContentLoaded&&(r._debug.isEnabled()&&r._debug.controllerNameMatchesFilter(e)&&console.log("Controller created after DOMContentLoaded... initting manually: "+e),i._init(),i._bindOnRootElement(document),i.domReady&&i.domReady()),i.init&&i.init(),i},createMixin:function(e,t){var n=this._util.newMixin(e,t);
this._mixins[n.name]=n.newClass()},preventBinding:function(e){e[r._util.preventItsKitBinding]=!0},sendToController:function(e,t){i.typeOfObject(e)=="String"&&(e=r._util.massageControllerName(e));
var n=i.argumentsToArray(arguments,2);
e=this._controllers[e];
if(e&&t in e)return e[t].apply(e,n)},disableBinding:function(){s.ignoreDOMNodeInserted=!0},enableBinding:function(t){delete s.ignoreDOMNodeInserted,t&&n.kit.rebind()},rebind:function(t){s.bindAndInitOnElement(document.documentElement),t||s._notifyOfDomInserted(null)},bindAfter:function(t,n){this.disableBinding(),t&&(n=n||null,t.call(n)),this.enableBinding(!0)},domLoaded:function(){return n.kit._domContentLoaded},pageLoaded:function(){return n.kit._pageLoaded},afterPageLoaded:function(){return n.kit._afterPageLoaded},debug:function(e,t){e=i.optionalBooleanArg(e,!0);
var n=!1;
sessionStorage&&(sessionStorage["its.kit.debug.enabled"]=e.toString(),t?sessionStorage["its.kit.debug.filterControllerNameSubstring"]=t:sessionStorage.removeItem("its.kit.debug.filterControllerNameSubstring")),e&&(n=r._debug.printAll(),n||(t?console.log("WARNING: No controllers found matching: "+t):console.log("WARNING: No controllers found."))),r._debug.isEnabled=r._debug._isEnabled},isDebugEnabled:function(){return r._debug.isEnabled()},util:{extend:function(e,t,n){function o(t){for(var r in t){var i=t.__lookupGetter__(r),s=t.__lookupSetter__(r);
if(n||!(r in e))i||s?(i&&e.__defineGetter__(r,i),s&&e.__defineSetter__(r,s)):e[r]=t[r]}}var r;
t=this.arrayify(t);
if(t)for(var i=0,s=t.length;
i<s;
i++)o(t[i]);
return e},optionalArg:function(e,t){return e?e:t},optionalTypedArg:function(e,t,n){return i.typeOfObject(t)===e?t:n},optionalBooleanArg:function(e,t){return i.optionalTypedArg("Boolean",e,t)},optionalStringArg:function(e,t){return i.optionalTypedArg("String",e,t)},optionalNumberArg:function(e,t){return i.optionalTypedArg("Number",e,t)},optionalObjectArg:function(e,t){return i.optionalTypedArg("Object",e,t)},appendAttribute:function(e,t,n,r){var s=e.hasAttribute(t)?e.getAttribute(t)+i.optionalStringArg(r," ")+n:n;
e.setAttribute(t,s)},typeOfObject:function(t){if(t===null)return"null";
var n=typeof t;
switch(n){case"undefined":break;case"string":n="String";
break;case"number":n="Number";
break;case"object":n=t.constructor.name||t.toString().slice(8,-1);
break;case"function":n=t.name||t.constructor.name;
break;case"boolean":n="Boolean";
break;default:n="unknown"}return n},objectIsA:function(t,n){var r=i.typeOfObject(t);
return typeof n=="string"?r===n:r===i.typeOfObject(n)},arrayify:function(t){return i.objectIsA(t,Array)?t:[t]},pickFirstNonNull:function(){var t=i.argumentsToArray(arguments),n;
for(var r=0,s=t.length;
r<s;
r++){n=t[r];
switch(i.typeOfObject(n)){case"String":return n;
case"Function":var o=n();
if(o)return o}}return null},argumentsToArray:function(t,n){return Array.prototype.slice.call(t||[],i.optionalNumberArg(n,0))},apply:function(t,n,r){var s=null;
return n=i.objectIsA(n,"String")?t[n]:n,r=r||[],n&&(s=n.apply(t,i.argumentsToArray(r))),s},applyToCollection:function(t,n,r){var s=null,o=i.typeOfObject(t),u,a,f;
if(o==="Array")for(u=0,a=t.length;
u<a;
u++)f=i.apply(t[u],n,r),f&&!s&&(s=f);
if(o==="Object")for(u in t)t.hasOwnProperty(u)&&(f=i.apply(t[u],n,r)),f&&!s&&(s=f);
return s},bind:function(t,n){var r=i.argumentsToArray(arguments,2);
return function(){i.apply(t,n,r.concat(i.argumentsToArray(arguments)))}},defer:function(){var t=i.argumentsToArray(arguments),n=typeof t[0]=="number"?t.shift():0;
setTimeout(i.bind.apply(i,t),n)}},_controllers:{},_mixins:{},_init:{handleEvent:function(e){s[e.type]?s[e.type](e):s.applyToControllers(e.type,e),i.applyToCollection(r._mixins,e.type,arguments)},preload:function(){ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("itsKitDispatchPreloadStart",!0),ITSStopwatch.named("ITSLoadTimes").startSplitTimeNamed("itsKitDispatchPreloadDuration"),s.applyToControllers("preload"),n.kit._preloadListeners.forEach(function(e){e()}),ITSStopwatch.named("ITSLoadTimes").stopSplitTimeNamed("itsKitDispatchPreloadDuration",!0)},load:function(e){n.kit._pageLoaded=!0,i.defer(s,"afterPageLoadAction",e),ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("itsKitDispatchLoadStart",!0),ITSStopwatch.named("ITSLoadTimes").startSplitTimeNamed("itsKitDispatchLoadDuration"),n.kit._loadListeners.forEach(function(e){e()}),s.applyToControllers("load",e),ITSStopwatch.named("ITSLoadTimes").stopSplitTimeNamed("itsKitDispatchLoadDuration",!0)},afterPageLoadAction:function(e){n.kit._afterPageLoaded=!0,ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("itsKitDispatchAfterLoadStart",!0),ITSStopwatch.named("ITSLoadTimes").startSplitTimeNamed("itsKitDispatchAfterLoadDuration"),this.applyToControllers("afterLoad",e),n.kit._afterLoadListeners.forEach(function(e){e()}),ITSStopwatch.named("ITSLoadTimes").stopSplitTimeNamed("itsKitDispatchAfterLoadDuration",!0),ITSStopwatch.named("ITSLoadTimes").logToServer()},DOMContentLoaded:function(e){n.kit._domContentLoaded=!0,ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("itsKitDispatchInitStart",!0),ITSStopwatch.named("ITSLoadTimes").startSplitTimeNamed("itsKitDispatchInitDuration"),s.applyToControllers("_init"),ITSStopwatch.named("ITSLoadTimes").stopSplitTimeNamed("itsKitDispatchInitDuration",!0),s.bindAndInitOnElement(e.srcElement),ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("itsKitDispatchDomReadyStart",!0),ITSStopwatch.named("ITSLoadTimes").startSplitTimeNamed("itsKitDispatchDomReadyDuration"),s.applyToControllers("domReady",e),document.addEventListener("DOMNodeInserted",s,!1),n.kit._domReadyListeners.forEach(function(e){e()}),ITSStopwatch.named("ITSLoadTimes").stopSplitTimeNamed("itsKitDispatchDomReadyDuration",!0)},DOMNodeInserted:function(e){var t=e.srcElement;
if(s.ignoreDOMNodeInserted)return;if(t.nodeType!=1||t.tagName=="SCRIPT"||t.tagName=="LINK")return;if(t[r._util.preventItsKitBinding]||t.hasAttribute(r._util.preventItsKitBinding))return;s.bindAndInitOnElement(e.srcElement.parentNode),s._notifyOfDomInserted(e)},_notifyOfDomInserted:function(e){i.defer(s,"afterDomInsertedAction",e),n.kit._domInsertedListeners&&n.kit._domInsertedListeners.forEach(function(t){t(e)}),s.applyToControllers("domInserted",e)},afterDomInsertedAction:function(e){n.kit._afterDomInserted=!0,this.applyToControllers("afterInserted",e)},bindAndInitOnElement:function(t){s.applyToControllers("_bindOnRootElement",t)},applyToControllers:function(e){function a(){if(this.className in u)return t;
u[this.className]=!0;
var n=this._factory.options.initAfter;
return n&&(n=n.replace(o,"")+"Controller",n in r._controllers&&a.call(r._controllers[n])),i.apply(this,e,s)}var t=null,s=i.argumentsToArray(arguments,1),o=n.kit._util.controllerNameRegExp,u={};
return t=i.applyToCollection(r._controllers,a),t}},_util:{controllerNameRegExp:/Controller$/g,preventItsKitBinding:"prevent-its-kit-binding",createClass:function(t,n){var r=e;
return r[t]||(r[t]=(new Function("","return function "+t+"(){};"))()),n&&this.extendClass(r[t],n),r[t]},extendClass:function(e,t){t=i.arrayify(t);
var n;
for(var s=0,o=t.length;
s<o;
s++)n=t[s],t[s]=i.objectIsA(n,"String")?r._extensions[n]:n;
return i.extend(e.prototype,t)},newComponent:function(e,t){return this.newObject(e.replace(this.controllerNameRegExp,""),t)},newController:function(e,t){var n=!t;
e=this.massageControllerName(e),t=i.optionalObjectArg(t,{});
if(n||t.binding||t.component)t.newComponent=this.newComponent(e,[t.component||{},"all"]);
return this.newObject(e,[t.controller,"controller","all"],{_components:[]},t)},newMixin:function(e,t){return this.newObject(e+"Mixin",[t,"mixin","all"],{_controllers:[],_rawName:e})},newObject:function(e,t,n,r){return{name:e,klass:this.createClass(e,t),options:i.optionalObjectArg(r,{}),extend:function(e,t){var n=this.klass.prototype;
t&&(this.klass.prototype[t]={},n=n[t]),i.extend(n,e)},newClass:function(e){return i.extend(new this.klass,[{className:this.name,_factory:this},n,e])}}},massageControllerName:function(e){return e.replace(this.controllerNameRegExp,""),e.lastIndexOf("Controller")==-1&&(e+="Controller"),e}},_extensions:{all:{listen:function(e,t,n){return this._listen(i.argumentsToArray(arguments),!1)},capture:function(e,t,n){return this._listen(i.argumentsToArray(arguments),!0)},_listen:function(e,t){var n=this,r,s,o;
return e.length==1?(r=n.element||document,s=e[0],o=s+"Event"):e.length==2?typeof e[0]=="string"?(r=n.element||document,s=e[0],o=e[1]):(r=e[0],s=e[1],o=s+"Event"):(r=e[0],s=e[1],o=e[2]),typeof o!="object"&&(o=i.bind(n,o)),r.addEventListener(s,o,t),{remove:function(){r.removeEventListener(s,o,t)}}},handleEvent:function(e){var t=e.type+"Event";
this[t]&&this[t].call(this,e)},dispatchCustomEvent:function(e,t,n,r,s){r=i.optionalBooleanArg(r,!0),s=i.optionalBooleanArg(s,!0);
var o=document.createEvent("Events");
o.initEvent(t,r,s),o._customEvent=!0,i.extend(o,n),e.dispatchEvent(o)}},controller:{shouldBindToElement:function(e){return!0},rebind:function(){this.applyToComponents("init")},applyToComponents:function(e){i.applyToCollection(this._components,e,i.argumentsToArray(arguments,1))},getComponents:function(){return[].concat(this._components)},bindToElements:function(e,t){if(!e)return null;
typeof e=="string"&&(t=e,e=document.querySelectorAll(e));
var n=[],s;
for(var o=0,u=e.length;
o<u;
o++)s=this._bindToElement(e[o]),s&&n.push(s);
return i.applyToCollection(n,"bound"),i.applyToCollection(n,"init"),r._debug.isEnabled()&&r._debug.print(this,n,t),n},bindToElement:function(e){var t=this._bindToElement(e);
return t&&(i.apply(t,"bound"),i.apply(t,"init"),r._debug.isEnabled()&&r._debug.print(this,[t])),t},_init:function(){if(!this.binding){var e=this._factory.options.binding;
typeof e=="string"?(this._bindingSelector=e,this.binding=this._binding):typeof e=="function"&&(this.binding=e)}if(this._factory.options.mixins){var t=i.arrayify(this._factory.options.mixins),n,s;
for(var o=0,u=t.length;
o<u;
o++)n=t[o],s=r._mixins[n+"Mixin"],s&&(s.methods&&(this._factory.extend(s.methods),this._factory.options.newComponent&&this._factory.options.newComponent.extend(s.methods,n)),s._controllers.push(this))}},_binding:function(e){return this._bindingSelector&&e&&e.querySelectorAll?e.querySelectorAll(this._bindingSelector):[]},_bindOnRootElement:function(e){this.binding?this.bindToElements(this.binding(e),this._bindingSelector):r._debug.isEnabled()&&r._debug.controllerNameMatchesFilter(this._factory.name)&&console.log('WARNING: No "binding" specification found for matching controller: '+this._factory.name)},_bindToElement:function(e){var t=this._factory.options.newComponent;
if(t&&!(t.name in e)&&!e[r._util.preventItsKitBinding]&&!e.hasAttribute(r._util.preventItsKitBinding)){var n=null;
return this.shouldBindToElement(e)&&(n=t.newClass({element:e,controller:this}),this._factory.options.unbind!==!1&&e.addEventListener("DOMNodeRemovedFromDocument",i.bind(this,"_unbindFromElement",n)),this._components.push(n),e[t.name]=n),n}return null},_unbindFromElement:function(e){var t=this._components.indexOf(e);
t&&(i.apply(e,"unbound"),this._components.splice(t,1))},pagehide:function(e){this.unload&&(console.log("pagehide event called, but unload existed instead. Please replace unload with pagehide!"),this.unload(e))}},mixin:{sendCallback:function(e){arguments[0]=this._rawName+"_"+arguments[0],i.applyToCollection(this._controllers,"applyToComponents",arguments),i.applyToCollection(this._controllers,arguments[0],i.argumentsToArray(arguments,1))}}},_debug:{_isEnabled:function(){var t=/(\?|&)its.kit.debug.enabled=true(&|$)/.test(e.location.search)||sessionStorage&&sessionStorage["its.kit.debug.enabled"]=="true";
return this.isEnabled=function(){return t},t},isEnabled:function(){return this._isEnabled()},hasFilter:function(){return this.filterName()?!0:!1},filterName:function(){return sessionStorage["its.kit.debug.filterControllerNameSubstring"]},controllerNameMatchesFilter:function(e){var t=this.filterName();
return t=="all"||t&&e.toLowerCase().indexOf(t.toLowerCase())!=-1},print:function(e,t,n){var s=!1,o=e.className,u=this.filterName();
if(this.controllerNameMatchesFilter(o)){t||(t=e._components);
var a=!t.length&&u;
if(t.length||a){var f="its.kit.debug: "+o,l=t.length;
a?f+=" FAILED to bind to any elements":(f+=" SUCCESSFULLY bound to "+l+(l>1?" elements":" element"),s=!0),n&&(f+=' matching the selector: "'+n+'".'),t.length==1?console.log(f,"Component:",t[0]):t.length>5?console.log(f,"First 5 components:",t.slice(0,5)):console.log(f,"Components:",t)}}return r._debug.isEnabled()&&r._debug.controllerNameMatchesFilter(name)&&e.applyToComponents(function(){var e=this.element,t=this._factory.name,n=(e.getAttribute("its-kit-bound")||"").split(" ");
n.indexOf(t)==-1&&i.appendAttribute(e,"its-kit-bound",t)}),s},printAll:function(e){var t=this;
return s.applyToControllers(function(){return t.print(this,this._components,this._bindingSelector)})}},_go:function(e){e.document.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1),e.addEventListener("pagehide",s,!1)}};
var r=n.kit,i=r.util,s=r._init;
r._go(e)}(window),window.its||(window.its={}),window.its.client||(window.its.client={}),its.client.isRunning=defined("iTunes"),its.client.isTouchSupported="createTouch"in document,its.client.getPlistStringValueForKey=function(e,t){var n=e.getElementsByTagName("key");
for(var r=0;
n!=null&&r<n.length;
r++)if(n[r].textContent==t&&n[r].nextElementSibling!=null&&n[r].nextElementSibling.nodeName=="string")return n[r].nextElementSibling.textContent;
return null},its.client.isAuthDialog=function(e){return"authorization"==its.client.getPlistStringValueForKey(e,"kind")},its.client.isClientGreaterThanOrEqualToSpecifiedVersion=function(e){if(!its.client.isRunning)return!0;
var t=its.client.version();
return!t||!e?"undefined":its.string.compareNumerically(t,e)>=0},its.client.onscreenConsole=function(){return window.ITSOnScreenConsole?ITSOnScreenConsole.onScreenConsoleForObject("ITSClient"):null},its.client._logFunnel=function(t,n,r){n||(n="log");
if((r||its.x&&its.x.isIE&&its.x.isIE())&&window.ITSOnScreenConsole)its.client.onscreenConsole().log(t,n);
else if(window.console){if(console[n])return console[n](t);
var i="Error: Attempt to log with unknown level: "+n+" with message: "+t;
console.error?console.error(i):console.log&&console.log(i)}},its.client.log=function(t,n){its.client._logFunnel(t,"log",n)},its.client.error=function(t,n){its.client._logFunnel(t,"error",n)},its.client.warn=function(t,n){its.client._logFunnel(t,"warn",n)},its.client.info=function(t,n){its.client._logFunnel(t,"info",n)},its.client.debug=function(t,n,r){(r||its.dev)&&its.client._logFunnel(t,"debug",n)},its.client.findChildElementNodeAtPosition=function(e,t){if(!e)return;var n=e.childNodes.length;
if(t>=n)return;var r=0;
for(var i=0;
i<n;
i++){var s=e.childNodes[i];
if(s.nodeType===Node.ELEMENT_NODE){if(r===t)return s;
r+=1}}return null},its.client.findPositionChildElementNodeNamed=function(e,t){if(!e)return;var n=e.childNodes.length;
if(n==0)return;var r=0;
for(var i=0;
i<n;
i++){var s=e.childNodes[i];
if(s.nodeType===Node.ELEMENT_NODE){if(s.lastChild&&s.lastChild.textContent==t)return r;
r++}}return},its.client.platformIsDesktop=!0,its.client.platformIsDV=!1,its.client.getBag=function(){return its.client._bag||(its.client._bag=iTunes.getBag()),its.client._bag},its.client.showDialog=function(e,t){var n=its.client.createDialogDict(e);
its.client.doDialogWithDict(n,t)},its.client.showAlert=function(e,t){var n={message:e,explanation:t,defaultButton:"ok",okButtonString:its.loc("OK")};
its.client.showDialog(n)},its.client.showGenericErrorAlertWithErrorCode=function(e){its.client.showAlert(its.loc("Js.iTunesStoreError.Message",{errorNum:e}),its.loc("Js.iTunesStoreError.Explanation",{errorNum:e}))},its.client.showGenericErrorAlert=function(){its.client.showGenericErrorAlertWithErrorCode(3131)},its.client.showPlistErrorDialog=function(e){var t=null;
its.isDefinedNonNull(e)&&(t=its.client.getDialogDict(e.responseXML)),t!==null?its.client.doDialogWithDict(t):its.client.showGenericErrorAlert()},its.client.getDialogDict=function(e){var t=null,n=e.getElementsByTagName("key");
for(var r=0;
n!=null&&r<n.length;
r++)if(n[r].textContent=="dialog"&&n[r].nextElementSibling!=null&&n[r].nextElementSibling.nodeName=="dict"){t=n[r].nextElementSibling;
break}return t},its.client.showConfirm=function(e,t,n,r,i,s){var o={message:e,explanation:t,defaultButton:"ok",okButtonString:i||its.loc("OK"),cancelButtonString:s||its.loc("Cancel")},u={okButtonAction:n||its.emptyFunction,cancelButtonAction:r||its.emptyFunction};
its.client.showDialog(o,u)},its.client.createDialogDict=function(e){var t=document.implementation.createDocument(null,"",null),n=t.createElement("dict"),r=function(e,n,r){var i=null;
its.isString(r)?(i=t.createElement("string"),i.textContent=r):its.isElement(r)?i=r:typeof r=="boolean"&&(i=t.createElement(r.toString()));
if(i!=null){var s=t.createElement("key");
s.textContent=n,e.appendChild(s),e.appendChild(i)}},i=function(t){return e[t]!=null?(r(n,t,e[t]),!0):!1},s=function(s){if(i(s+"ButtonString")){var o=e[s+"ButtonAction"];
if(o!=null){var u=t.createElement("dict");
r(u,"kind",o),r(u,"url",e[s+"ButtonUrl"]),r(n,s+"ButtonAction",u)}}},o=function(i){var s=e[i];
if(s!=null&&typeof s=="object"){var o=t.createElement("dict");
for(var u in s)r(o,u,s[u]);
r(n,i,o)}};
return i("kind"),i("windowTitle"),i("message"),i("explanation"),i("errorMessage"),i("checkboxString")&&i("initialCheckboxValue"),i("defaultButton"),s("ok"),s("cancel"),s("other"),e["kind"]=="authorization"&&(i("lockUserName"),i("noAOLAccounts")),o("additional-parameters"),n},its.client.startProgressSpinner=function(){its.client.isRunning&&its.client.platformShortName=="DA"&&(its.client._progressSpinnerCount?its.client._progressSpinnerCount++:its.client._progressSpinnerCount=1,iTunes.startProgressSpinner())},its.client.stopProgressSpinner=function(e){if(its.client.isRunning&&its.client.platformShortName=="DA"){its.client._progressSpinnerCount?its.client._progressSpinnerCount--:console.log("its.client.stopProgressSpinner: you should call startProgressSpinner first");
if(its.client._progressSpinnerCount<1||e)iTunes.stopProgressSpinner(),its.client._progressSpinnerCount=0}},its.client.goBackOrGoHome=function(){if(iTunes.getHistory().length>1)iTunes.getHistory().back();
else{var e=its.client.getBag().storeFront;
e&&(window.location.href=e)}},its.client.Platform={iTunes11:function(){return its.client.Platform.init(),its.client.Platform._iTunes11==1},iTunes12:function(){return its.client.Platform.init(),its.client.Platform._iTunes12==1},iBooksMac:function(){return its.client.Platform.init(),its.client.Platform._iBooksMac==1},MacAppStore:function(){return its.client.Platform.init(),its.client.Platform._MacAppStore==1},init:function(){if(its.client.Platform._IS_INITIALIZED)return;var e=document.querySelector("meta[name='platform-cache-id']"),t=Number(e.getAttribute("content"));
switch(t){case 17:its.client.Platform._iTunes11=!0;
break;case 28:case 32:its.client.Platform._iTunes12=!0;
break;case 22:its.client.Platform._iBooksMac=!0;
break;case 13:its.client.Platform._MacAppStore=!0}its.client.Platform._IS_INITIALIZED=!0}},ITSLogger.constants={_version:"2.1",_intraFieldSeparator:"|",_visitorIdVersion:"v5",_undefinedValue:"undefined"},ITSLogger.isLoaded=!0;
for(var key in window.earlyLoadITSLogger)ITSLogger[key]=window.earlyLoadITSLogger[key];
ITSLogger._processQueuedMessages=function(){if(ITSLogger._loggingEnabledToServer()){if(ITSLogger._queuedMessages&&ITSLogger._queuedMessages.length){var t=its.x.util.array.shallowCopy(ITSLogger._queuedMessages);
ITSLogger._queuedMessages=[];
var n=10;
t.length&&(new Date).getTime()-its.markupLoadStartTime>n*1e3&&(ITSLogger.setUseOnScreenConsole(!1),ITSLogger.named()._funnelLogger(ITSLogger.ERROR,!0,"Failed to load requested ITSOnscreenConsole after "+n+" seconds... reverting to stdout"));
for(var r=0;
r<t.length;
r++){var i=t[r];
ITSLogger.named(i.loggerName)._funnelLogger(i.loggingThreshold,!0,i.message,i.serverDataDict,i.mirrorToServer)}}ITSLogger.possiblyWaitForQueueMessages()}},ITSLogger.REQUEST=0,ITSLogger.SESSION=1,ITSLogger.PERM=2,ITSLogger.DOMAIN_NAME_COMPONENTS=3,ITSLogger.STORAGE_KEY="jsLogValues",ITSLogger.Defaults={},ITSLogger.Defaults.loggerName="ITSLogger",ITSLogger.Defaults.level=ITSLogger.ERROR,ITSLogger.Defaults.useOnScreenConsole=!1,ITSLogger.Defaults.regexFilterString=null,ITSLogger.Defaults.persistence=ITSLogger.SESSION,ITSLogger.Defaults.regexFilterObject=null,ITSLogger.named=function(t){var n=null;
return t||(t=ITSLogger.Defaults.loggerName),ITSLogger.loggers&&(n=ITSLogger.loggers[t]),n||(n=new ITSLogger(t)),n},ITSLogger.stringify=function(t){var n="";
for(var r=0;
r<arguments.length;
r++){var i=arguments[r];
if(typeof arguments[r]=="object")try{i=JSON.stringify(arguments[r])}catch(s){i=arguments[r]}n+=i,r<arguments.length-1&&(n+=" ")}return n},ITSLogger._omnitureValue=function(t){var n=ITSLogger.constants._undefinedValue;
if(window.ITSMetrics){var r=ITSMetrics[t]();
r&&(n=r)}return n},ITSLogger._cleanValue=function(t){if(!t||t=="")t=ITSLogger.constants._undefinedValue;
return t},ITSLogger._createVisitorId=function(t){var n=null,r="[LS]",i=t?"1":"0",s=its.string.generateUuid(23,10),o="[LE]",u=[r,ITSLogger.constants._visitorIdVersion,i,s,o];
return n=u.join(ITSLogger.constants._intraFieldSeparator),n},ITSLogger._visitorMapVersionAdjustments=function(t){var n=its.reflect.values(t);
if(n&&n.length){var r=n[0],i=r.split(ITSLogger.constants._intraFieldSeparator);
i[1]!=ITSLogger.constants._visitorIdVersion&&(t={})}return t},ITSLogger._locallyStoredVisitorIdMap=function(t){if(typeof JSON=="undefined")return;var n=null,r="ITSLogger.visitorIds",i=localStorage[r],s={};
return i&&(s=JSON.parse(i),s=ITSLogger._visitorMapVersionAdjustments(s),n=s[t]),n||(s[t]=ITSLogger._createVisitorId(t!=ITSLogger.constants._undefinedValue),localStorage[r]=JSON.stringify(s)),s},ITSLogger._notifyServer=function(t,n,r,i,s,o){var u=null;
if(ITSLogger._loggingEnabledToServer()&&!its.property("ITSLogger.disableClientNotificationSends")){var a={};
t||(t=ITSLogger.constants._undefinedValue),a.messageParam=t;
if(!r||!r.message)r||(r={}),r.message=t;
a.loggerName=n,i||(i=ITSLogger.constants._undefinedValue),a.loggingThreshold=i;
var f={};
a||(a={});
var l="",c=null,h=its.property("ITSLogger.ServerReportingProtocol"),p=its.property("ITSLogger.ServerReportingDomain"),d=its.property("ITSLogger.ServerReportingApp"),v="/WebObjects/"+d+".woa/wa/";
s?its.string.startsWith(s,"http",!0)||(its.string.startsWith(s,"//")||(l="//"),l=h+l):s=h+"://"+p,l=s,o?(its.string.startsWith(o,"/")||(o="/"+o),its.string.endsWith(o,"/")||(o+="/")):o=v,l+=o,l+=its.property("ITSLogger.RecordStatsAction"),l+="?eventType="+n,l+="&version="+ITSLogger.constants._version;
var m=(new Date).getTime(),g=m-its.markupLoadStartTime,y=ITSLogger.constants._undefinedValue;
document&&document.body&&document.body.className&&(y=document.body.className);
if(!r)r={};
else for(var b in r)f[n+"_"+b]=r[b];
a.version=ITSLogger.constants._version,a.eventType=a.loggerName,a.serverEnvironment=ITSLogger._cleanValue(its.property("ITSServerEnvironment")),a.serverEnvironmentDetailsString=ITSLogger._cleanValue(window.status),its.kit.util.extend(a,window.statusData),a.serverInstance=ITSLogger._cleanValue(its.property("ITSServerInstance"));
var w=ITSLogger._cleanValue(its.client.getUserDSID());
a.dsid=w;
var E=ITSLogger._locallyStoredVisitorIdMap(w),S=E[w];
a.visitorId=S;
var x=its.reflect.values(E);
a.visitorIds=JSON.stringify(x);
var T=1;
E.unknown?x.length>=3&&(T=x.length-1):T=x.length,a.visitorCount=T,a.omnitureVisitorId=ITSLogger._cleanValue(its.cookies.get("s_vi")),a.vip=its.property("vip"),a.resourceRevNum=its.property("ITSResourceRevNum"),a.windowLocationHref=window&&window.location&&window.location.href?window.location.href:"undefined",a.timeOfLog=m,a.markupLoadStartTime=its.markupLoadStartTime,a.markupLoadEndTime=ITSLogger._cleanValue(its.markupLoadEndTime),a.markupLoadTotalTime=its.markupLoadStartTime&&its.markupLoadEndTime?its.markupLoadEndTime-its.markupLoadStartTime:"undefined",a.timeElapsedFromLoadStart=g,a.pageName=ITSLogger._omnitureValue("omniturePageName"),a.pageChannel=ITSLogger._omnitureValue("omnitureChannel"),a.pageClassName=y,a.allowDeferJsLoad=its.property("MZHtmlResourcesUtil.allowDeferJsLoad")?!0:!1,a.clientForceServerNotifications=its.property("ITSLogger.clientForceServerNotifications")?!0:!1;
for(var b in a)f["ITSLogger_"+b]=a[b];
f.sender=its.property("ITSLogger.SenderName");
var N=its.property("ITSLogger.blacklistedServerNotificationsFields");
if(N!=null)for(var C=0;
C<N.length;
C++){var k=N[C];
delete f[k]}c=JSON.stringify(f);
var L=new XMLHttpRequest;
L.open("POST",l,!0),L.setRequestHeader("Content-type","application/json"),L.send(c),u=c}return u},ITSLogger.prototype.loggerName=function(){return this._loggerName},ITSLogger.prototype.debug=function(t,n,r){this._funnelLogger(ITSLogger.DEBUG,!1,t,n,r)},ITSLogger.prototype.info=function(t,n,r){this._funnelLogger(ITSLogger.INFO,!1,t,n,r)},ITSLogger.prototype.warn=function(t,n,r){this._funnelLogger(ITSLogger.WARN,!1,t,n,r)},ITSLogger.prototype.error=function(t,n,r){this._funnelLogger(ITSLogger.ERROR,!1,t,n,r)},ITSLogger.prototype.stats=function(t,n,r){this._funnelLogger(ITSLogger.STATS,!1,t,n,r)},ITSLogger.prototype.queueMessage=function(t,n,r,i){ITSLogger._loggingEnabledToServer()&&ITSLogger.queueMessage(this.loggerName(),t,n,i,r)},ITSLogger.prototype.setMirrorToServer=function(t){this._mirrorToServer=t},ITSLogger.prototype.mirrorToServer=function(t){return t||this._mirrorToServer},ITSLogger.prototype._funnelLogger=function(t,n,r,i,s){if(ITSLogger._loggingEnabledToServer()){n||ITSLogger._processQueuedMessages();
var o=t;
o==ITSLogger.STATS&&(t=ITSLogger.INFO);
var u=null;
switch(t){case ITSLogger.DEBUG:u=its.client.debug;
break;case ITSLogger.INFO:u=its.client.info;
break;case ITSLogger.WARN:u=its.client.warn;
break;case ITSLogger.ERROR:u=its.client.error}var a=u&&t>=ITSLogger.level()||t==ITSLogger.ERROR,s=this.mirrorToServer(s);
if(a||s){if(r){var f=this.loggerName()+":",l=ITSLogger._omnitureValue("omniturePageName");
l!="undefined"&&(f+=l+":"),f+=" "+r;
if(t==ITSLogger.ERROR||a&&ITSLogger._passesRegexFilterTest(f)){var c=ITSLogger.useOnScreenConsole()&&window.ITSOnScreenConsole?!0:!1,h=ITSLogger.useOnScreenConsole()&&!window.ITSOnScreenConsole?!0:!1;
h&&a?(ITSLogger._loadOnscreenConsoleIfNeeded(),this.queueMessage(t,r,i,!1)):a&&u(f,c)}}s&&ITSLogger._notifyServer(r,this.loggerName(),i,o)}}},ITSLogger.level=function(){return ITSLogger.loggingPreferences().level},ITSLogger.setLevel=function(t,n,r,i){var s=null;
if(t==null||t==""){if(t==null){var o=ITSLogger._loggingPreferencesDisplayString();
s="Clearing previous settings of: ITSLogger.setLevel("+ITSLogger._loggingPreferencesDisplayString()+")"+'\nUsage: ITSLogger.setLevel(level["debug"[1]|"info"[2]|"warn"[3]|"error"[4], regexFilterString, useOnScreenConsole[true|false], persistence["REQUEST"[0]|"SESSION"[1]|"PERM"[2])'}ITSLogger.clearLoggingPreferences()}else logevel=ITSLogger._parseLogLevel(t),r||(r=ITSLogger.useOnScreenConsole()),ITSLogger.setLoggingPreferences(t,r,n,i),s=ITSLogger._loggingPreferencesDisplayString();
return s},ITSLogger.useOnScreenConsole=function(){var t=!1;
return ITSLogger.loggingPreferences().useOnScreenConsole&&(window.ITSOnScreenConsole||its.property("itsLoggerJsUrlForOnscreenConsole")&&its.property("itsLoggerCssUrlForOnscreenConsole"))&&(t=!0),t},ITSLogger.setUseOnScreenConsole=function(t){return ITSLogger._cachedPreferences.useOnScreenConsole=t,t},ITSLogger.regexFilterString=function(){return ITSLogger.loggingPreferences().regexFilterString},ITSLogger.setRegexFilterString=function(t){return ITSLogger._cachedPreferences.regexFilterString=t,t},ITSLogger.regexFilterObject=function(){return ITSLogger.loggingPreferences().regexFilterObject},ITSLogger.persistence=function(){return ITSLogger.loggingPreferences().persistence},ITSLogger.setPersistence=function(t){return t=ITSLogger._parseLogPersistence(t),ITSLogger.setLoggingPreferences(ITSLogger.loggingPreferences().level,ITSLogger.loggingPreferences().useOnScreenConsole,ITSLogger.loggingPreferences().regexFilterString,ITSLogger.loggingPreferences().persistence),t},ITSLogger._passesRegexFilterTest=function(t){var n=!1,r=ITSLogger.regexFilterObject();
if(!r||t.search(r)!=-1)n=!0;
return n},ITSLogger.clearLoggingPreferences=function(){ITSLogger.setLoggingPreferences(null)},ITSLogger._parseLogLevel=function(t){if(t!=null&&t.toUpperCase){var n=its.string.toInt(t);
if(isNaN(n)){var r=t?t.toUpperCase():"";
r=="DEBUG"?t=ITSLogger.DEBUG:r=="INFO"?t=ITSLogger.INFO:r=="WARN"?t=ITSLogger.WARN:r=="ERROR"?t=ITSLogger.ERROR:t=ITSLogger.Defaults.level}else t=n}return t},ITSLogger._parseLogPersistence=function(t){if(t!=null&&t.toUpperCase){var n=its.string.toInt(t);
if(isNaN(n)){var r=t?t.toUpperCase():"";
r=="REQUEST"?t=ITSLogger.REQUEST:r=="SESSION"?t=ITSLogger.SESSION:r=="PERM"?t=ITSLogger.PERM:t=ITSLogger.Defaults.persistence}else t=n}return t},ITSLogger._setDefaultLoggingPreferences=function(){ITSLogger._cachedPreferences={level:ITSLogger.Defaults.level,useOnScreenConsole:ITSLogger.Defaults.useOnScreenConsole,regexFilterString:ITSLogger.Defaults.regexFilterString,regexFilterObject:ITSLogger.Defaults.regexFilterObject,persistence:ITSLogger.Defaults.persistence}},ITSLogger.loggingPreferences=function(){if(!ITSLogger._cachedPreferences){var t=null;
ITSLogger._setDefaultLoggingPreferences(),localStorage&&localStorage.getItem(ITSLogger.STORAGE_KEY)?t=localStorage.getItem(ITSLogger.STORAGE_KEY):sessionStorage&&sessionStorage.getItem(ITSLogger.STORAGE_KEY)?t=sessionStorage.getItem(ITSLogger.STORAGE_KEY):t=its.cookies.get(ITSLogger.STORAGE_KEY);
if(t){var n=t.split("-");
n.length>0&&n[0].length>0&&(ITSLogger._cachedPreferences.level=n[0]),n.length>1&&n[1].length>0&&(ITSLogger._cachedPreferences.useOnScreenConsole=n[1]=="1"?!0:!1),n.length>2&&n[2].length>0&&(ITSLogger._cachedPreferences.regexFilterString=n[2],ITSLogger._cachedPreferences.regexFilterString!=ITSLogger._previousRegexFilterString&&(ITSLogger._previousRegexFilterString=ITSLogger._cachedPreferences.regexFilterString,ITSLogger._cachedPreferences.regexFilterObject=new RegExp(ITSLogger._cachedPreferences.regexFilterString))),n.length>3&&n[3].length>0&&(ITSLogger._cachedPreferences.persistence=n[3])}ITSLogger._queryParams=its.url.queryParamsDict();
var r=!1,i=ITSLogger._queryParams.jsLogLevel,s=ITSLogger._queryParams.jsLogReset;
if(i==""||s!=null)ITSLogger.clearLoggingPreferences();
else{var o=ITSLogger._queryParams.jsLogUseOnScreenConsole,u=ITSLogger._queryParams.jsLogRegexFilterString,a=ITSLogger._queryParams.jsLogPersistence;
if(o&&o.toUpperCase){var f=o.toUpperCase();
f=="TRUE"?o=1:f=="FALSE"&&(o=0)}a&&a.toUpperCase&&(a=a.toUpperCase()),i!=null&&(r=!0,ITSLogger._cachedPreferences.level=ITSLogger._parseLogLevel(i)),o!=null&&(o==""&&(o=ITSLogger.Defaults.useOnScreenConsole),ITSLogger._cachedPreferences.useOnScreenConsole=o),u!=null&&(u==""&&(u=ITSLogger.Defaults.regexFilterString),ITSLogger._cachedPreferences.regexFilterString=u),a!=null&&(a=ITSLogger._parseLogPersistence(a),ITSLogger._cachedPreferences.persistence=a),r&&a!=null&&ITSLogger.setLoggingPreferences(ITSLogger._cachedPreferences.level,ITSLogger._cachedPreferences.useOnScreenConsole,ITSLogger._cachedPreferences.regexFilterString,a)}}return ITSLogger._cachedPreferences},ITSLogger._loggingPreferencesDisplayString=function(){var t=ITSLogger.loggingPreferences();
return t.level+", "+t.regexFilterString+", "+t.useOnScreenConsole+", "+t.persistence},ITSLogger._loadOnscreenConsoleIfNeeded=function(t,n){!window.ITSOnScreenConsole&&(t||ITSLogger.useOnScreenConsole())&&(n||(n=ITSLogger._onscreenConsoleFinishedLoadingCb),its.x.dynaLoadResourceFile(its.property("itsLoggerCssUrlForOnscreenConsole")),its.x.dynaLoadResourceFile(its.property("itsLoggerJsUrlForOnscreenConsole"),n))},ITSLogger._onscreenConsoleFinishedLoadingCb=function(){ITSLogger._processQueuedMessages()},ITSLogger.showErrorIndicator=function(t){window.ITSOnScreenConsole?(ITSOnScreenConsole.showErrorIndicator(t),ITSLogger._processQueuedMessages()):ITSLogger._loadOnscreenConsoleIfNeeded(!0,function(){ITSLogger.showErrorIndicator(t)})},ITSLogger.setLoggingPreferences=function(t,n,r,i){ITSLogger._loadOnscreenConsoleIfNeeded(),t=ITSLogger._parseLogLevel(t),i=ITSLogger._parseLogPersistence(i);
var s=its.url.parentDomainWithNumComponents(document.domain,ITSLogger.DOMAIN_NAME_COMPONENTS);
if(t==null||t=="")ITSLogger._setDefaultLoggingPreferences(),its.cookies.remove(ITSLogger.STORAGE_KEY,s),sessionStorage&&sessionStorage.removeItem(ITSLogger.STORAGE_KEY),localStorage&&localStorage.removeItem(ITSLogger.STORAGE_KEY);
else{var o="";
t!=undefined&&(o+=t,ITSLogger._cachedPreferences.level=t),o+="-",n!=undefined&&(o+=n?"1":"0",ITSLogger._cachedPreferences.useOnScreenConsole=n),o+="-",r&&(o+=r,ITSLogger._cachedPreferences.regexFilterString=r,ITSLogger._cachedPreferences.regexFilterObject=new RegExp(ITSLogger._cachedPreferences.regexFilterString)),o+="-",i!=undefined&&(o+=i,ITSLogger._cachedPreferences.persistence=i);
var u=null;
i==ITSLogger.SESSION?sessionStorage?(localStorage.removeItem(ITSLogger.STORAGE_KEY),sessionStorage.setItem(ITSLogger.STORAGE_KEY,o)):u=its.cookies.EXPIRE_SESSION:i==ITSLogger.PERM&&(localStorage?(sessionStorage.removeItem(ITSLogger.STORAGE_KEY),localStorage.setItem(ITSLogger.STORAGE_KEY,o)):u=its.cookies.its.cookies.EXPIRE_ONE_YEAR),u&&its.cookies.set(ITSLogger.STORAGE_KEY,o,u,"/",s)}},ITSLogger._loggingEnabledToServer=function(){return its.serverData&&!its.property("ITSLogger.DisableLogging")&&typeof JSON!="undefined"},ITSLogger._omnitureEventHandler=function(t){t.omnitureQueryParams.eventName=t.eventName,ITSLogger.named("ITSOmniture").stats(null,t.omnitureQueryParams,!0)},ITSLogger.ITSMetrics={},ITSLogger.ITSMetrics.Events={},window.ITSMetrics?(ITSLogger.ITSMetrics.Events.CLICK=ITSMetrics.Events.CLICK,ITSLogger.ITSMetrics.Events.PAGE=ITSMetrics.Events.PAGE):(ITSLogger.ITSMetrics.Events.CLICK="ITSMetrics.Events.CLICK",ITSLogger.ITSMetrics.Events.PAGE="ITSMetrics.Events.PAGE"),its.notifications.subscribe(ITSLogger.ITSMetrics.Events.CLICK,ITSLogger._omnitureEventHandler),its.notifications.subscribe(ITSLogger.ITSMetrics.Events.PAGE,ITSLogger._omnitureEventHandler),ITSLogger._loadOnscreenConsoleIfNeeded(),ITSLogger._processQueuedMessages(),its.x.dynaLoadResourceFile(its.property("ITSLogger.jsUrlForLoggerSettingsPanel")),its.x.dynaLoadResourceFile(its.property("ITSLogger.cssUrlForLoggerSettingsPanel")),SFDelayedImageLoaderController.addSwapSrcAttributeKey=function(t){SFDelayedImageLoaderController.swapSrcAttributeKeys||(SFDelayedImageLoaderController.swapSrcAttributeKeys=[]),SFDelayedImageLoaderController.swapSrcAttributeKeys.push(t)},SFDelayedImageLoaderController.prototype.logDebug=function(t){this._private.logger||(this._private.logger=new ITSLogger("SFDelayedImageLoaderController")),this._private.logger.debug(t)},SFDelayedImageLoaderController.prototype.logDebugUnhideInfo=function(t,n,r){var i=r&&r.length?r[0].getAttribute(its.ui.Attributes.SRC_SWAP_ATTRIBUTE_KEY):null,s=" +++ "+(i?"firstImage["+its.ui.Attributes.SRC_SWAP_ATTRIBUTE_KEY+"]="+i:"[empty image list]");
this.logDebug(t+": unhiding delayed images marked: "+n+s)},SFDelayedImageLoaderController.prototype.handleDomReadyImages=function(t){var n=null;
this.swizzleSrcAttribute(),n=document.querySelectorAll(its.ui.Selectors.SRC_SWAP_SELECTOR+"["+its.ui.Attributes.SRC_LOAD_AUTO_AFTER_PAGE_LOAD_IF_NOT_ONSCREEN_MODIFIER_ATTRIBUTE_KEY+"]"),n.each(function(t){var n=null;
its.property("sfdImageIgnoreAutoAfterPageLoadIfNotOnscreen")?(t.setAttribute(its.ui.Attributes.SRC_LOAD_AUTO_AFTER_DOM_LOAD_MODIFIER_ATTRIBUTE_KEY,""),n="ignore"):its.x.element.isOnscreen(t)?(t.setAttribute(its.ui.Attributes.SRC_LOAD_AUTO_AFTER_DOM_LOAD_MODIFIER_ATTRIBUTE_KEY,""),n="onScreen"):(t.setAttribute(its.ui.Attributes.SRC_LOAD_AUTO_AFTER_PAGE_LOAD_MODIFIER_ATTRIBUTE_KEY,""),n="offScreen"),its.ui.setDebugAttribute(t,its.ui.Debug.SRC_WAS_AUTO_DELAYED_ATTRIBUTE_KEY,n),t.removeAttribute(its.ui.Attributes.SRC_LOAD_AUTO_AFTER_PAGE_LOAD_IF_NOT_ONSCREEN_MODIFIER_ATTRIBUTE_KEY)});
var r=its.ui.Selectors.SRC_SWAP_SELECTOR;
for(var i in its.ui.Attributes){var s=its.ui.Attributes[i];
s!=its.ui.Attributes.SRC_LOAD_AUTO_AFTER_DOM_LOAD_MODIFIER_ATTRIBUTE_KEY&&s!=its.ui.Attributes.SRC_SWAP_ATTRIBUTE_KEY&&(r+=":not(["+s+"])")}n=document.querySelectorAll(r),this.logDebugUnhideInfo(t?t:"unknown caller","SRC_LOAD_AUTO_AFTER_DOM_LOAD_MODIFIER_ATTRIBUTE_KEY",n),its.ui.unhideImages(n,this._private.forceUnhide)},SFDelayedImageLoaderController.prototype.handleAfterLoadImages=function(t){this.swizzleSrcAttribute();
var n=document.querySelectorAll(its.ui.Selectors.SRC_SWAP_SELECTOR+"["+its.ui.Attributes.SRC_LOAD_AUTO_AFTER_PAGE_LOAD_MODIFIER_ATTRIBUTE_KEY+"]");
t||(t="unknown"),this.logDebugUnhideInfo(t,"SRC_LOAD_AUTO_AFTER_PAGE_LOAD_MODIFIER_ATTRIBUTE_KEY",n),its.ui.unhideImages(n,this._private.forceUnhide)},SFDelayedImageLoaderController.prototype.domReady=function(){this._private.domReadyWasCalled||(this._private.domReadyWasCalled=!0,this._private.failsafeUnhide||defer(this,this.failsafeUnhide,3e4),this.handleDomReadyImages("domReady"))},SFDelayedImageLoaderController.prototype.load=function(){if(!this._private.loadWasCalled){this._private.loadWasCalled=!0,this.swizzleSrcAttribute();
var t=document.querySelectorAll(its.ui.Selectors.SRC_SWAP_SELECTOR+"["+its.ui.Attributes.SRC_LOAD_AUTO_AT_PAGE_LOAD_MODIFIER_ATTRIBUTE_KEY+"]");
this.logDebugUnhideInfo("load","SRC_LOAD_AUTO_AT_PAGE_LOAD_MODIFIER_ATTRIBUTE_KEY",t),its.ui.unhideImages(t,this._private.forceUnhide)}},SFDelayedImageLoaderController.prototype.afterLoad=function(t){this._private.afterLoadWasCalled||(this._private.afterLoadWasCalled=!0,this.handleAfterLoadImages("afterLoad"))},SFDelayedImageLoaderController.prototype.domInserted=function(t){this.handleDomReadyImages("domInserted")},SFDelayedImageLoaderController.prototype.afterInserted=function(){this.handleAfterLoadImages("afterInserted")},SFDelayedImageLoaderController.prototype.failsafeUnhide=function(){if(!this._private.failsafeUnhide){this._private.failsafeUnhide=!0;
var t=!1;
this._private.forceUnhide=!0,this._private.domReadyWasCalled||(t=!0,this.logDebug("failsafeUnhide: domReady never called... invoking by hand..."),this.domReady()),this._private.loadWasCalled||(t=!0,this.logDebug("failsafeUnhide: load never called... invoking by hand..."),this.load()),this._private.afterLoadWasCalled||(t=!0,this.logDebug("failsafeUnhide: afterLoad never called... invoking by hand..."),this.afterLoad()),t||this.logDebug("failsafeUnhide: no failsafe needed"),this._private.forceUnhide=!1}},SFDelayedImageLoaderController.prototype.swizzleSrcAttribute=function(){SFDelayedImageLoaderController.swapSrcAttributeKeys&&document.querySelectorAll("img["+its.ui.Attributes.SRC_SWAP_ATTRIBUTE_KEY+"]").each(function(e){var t=null,n=null;
if(SFDelayedImageLoaderController.swapSrcAttributeKeys)for(var r=0;
!n&&r<SFDelayedImageLoaderController.swapSrcAttributeKeys.length;
r++)t=SFDelayedImageLoaderController.swapSrcAttributeKeys[r],n=e.getAttribute(t);
if(n){var i=t?t:its.ui.Attributes.SRC_SWAP_ATTRIBUTE_KEY;
its.ui.setDebugAttribute(e,its.ui.Debug.SRC_WAS_SWAPPED_ATTRIBUTE_KEY,i),e.setAttribute(its.ui.Attributes.SRC_SWAP_ATTRIBUTE_KEY,n)}})},function(){window.its&&its.kit&&its.kit.createController("SFDelayedImageLoader",{controller:{_private:{domReadyWasCalled:!1,loadWasCalled:!1,afterLoadWasCalled:!1,failsafeUnhide:!1},init:SFDelayedImageLoaderController.prototype.init,domReady:SFDelayedImageLoaderController.prototype.domReady,load:SFDelayedImageLoaderController.prototype.load,afterLoad:SFDelayedImageLoaderController.prototype.afterLoad,domInserted:SFDelayedImageLoaderController.prototype.domInserted},component:{}})}();
if(window.devicePixelRatio>1)SFDelayedImageLoaderController.addSwapSrcAttributeKey("src-swap-high-dpi");
else if(window.matchMedia){var firstMovedToHiDpiScreen=!1;
window.matchMedia("(-webkit-device-pixel-ratio: 1)").addListener(function(){!firstMovedToHiDpiScreen&&window.devicePixelRatio==2&&(firstMovedToHiDpiScreen=!0,console.log("moved to hidpi screen"),document.body.addClassName("hd-device"),document.body.removeClassName("sd-device"),document.querySelectorAll("img[src-swap-high-dpi]").each(function(e){bind(this,function(e){var t=new Image;
t.addEventListener("load",function(t){e.src=e.getAttribute("src-swap-high-dpi")}),t.src=e.getAttribute("src-swap-high-dpi")})(e)}),SFDelayedImageLoaderController.addSwapSrcAttributeKey("src-swap-high-dpi"))})}var iTSInclude={};
iTSInclude.clientSideInclude=function(t,n,r,i,s,o){var u=new Object;
if(t!=null){var a=null;
typeof t=="string"?a=document.getElementById(t):typeof t=="object"&&(a=t),u.element=a}u.url=n,u.timeout=r,u.successCallback=i,u.failureCallback=s,u.timeoutCallback=o,iTSInclude.makeHttpRequest(u)},iTSInclude.makeHttpRequest=function(t){var n=new Date,r=null,i=!1;
t.element!=null?r=t.element:t.elementId!=null&&(r=document.getElementById(t.elementId)),r&&r.getAttribute("ignore-plists")=="true"&&(i=!0);
var s=t.url,o=t.timeout,u=t.successCallback,a=t.failureCallback,f=t.timeoutCallback;
f==null&&(f=a);
var l=t.formParams,c=t.jsonParams,h=t.checkForDialog,p=t.dialogCallbacks,d=t.authDialogCallbacks,v=t.acceptStatus204?{200:"200",204:"204"}:{200:"200"},m;
if(t.useJscBridge==1){if(!iTunes.createXHR)throw"JSC bridge XHR not supported: iTunes.createXHR() is not present";
m=iTunes.createXHR()}else m=new XMLHttpRequest;
var g=!1,y=its.url.queryParamValue("guid");
y&&(s=its.url.appendUrlParameter(s,"guid",y)),m.onreadystatechange=function(){if(!g&&m.readyState==4)if(!v.hasOwnProperty(m.status))a!=null&&a.call(null,m);
else{if(m.responseXML!=null&&h){if(iTSInclude.handleDialogBox(m.responseXML,p,d,m))return;if(iTSInclude.isOldStyleError(m.responseXML)){a!=null&&a.call(null,m);
return}}var e=its.isXMLResponse(m);
r!=null&&(!i||!e)&&(r.innerHTML=m.responseText),u!=null&&u.call(null,m)}};
if(l!=null){var b=iTSInclude.requestBody(l);
m.open("POST",s,!0),typeof t.contentType!="undefined"?m.setRequestHeader("Content-type",t.contentType):m.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.withCredentials&&(m.withCredentials=!0),m.send(b)}else if(c){var w=c;
typeof c=="object"&&(w=JSON.stringify(c)),m.open("POST",s,!0),m.setRequestHeader("Content-type","application/json"),t.withCredentials&&(m.withCredentials=!0),m.send(w)}else m.open("GET",s,!0),t.withCredentials&&(m.withCredentials=!0),m.send();
return o>0&&setTimeout(function(){var e=new Date;
g=!0,m.readyState!=4&&(m.abort(),f!=null&&f.call(null,m))},o),m},iTSInclude.requestBody=function(e){var t=!0,n=new Array;
for(var r in e)t?t=!1:n.push("&"),n.push(encodeURIComponent(r)),n.push("="),n.push(encodeURIComponent(e[r]));
return n.join("")},iTSInclude.handleDialogBox=function(e,t,n,r){var i=iTSInclude.getDialogPlist(e);
return i==null?!1:(its.client.showPlistDialog?its.client.showPlistDialog(i,t,n):typeof iTunes!="undefined"&&iTunes.addProtocol?iTunes.addProtocol(r.responseText):console.log("Client does not support xml plist handling."),!0)},iTSInclude.getDialogPlist=function(e){var t=null,n=e.getElementsByTagName("key");
for(var r=0;
n!=null&&r<n.length;
r++)if(n[r].textContent=="dialog"&&n[r].nextElementSibling!=null&&n[r].nextElementSibling.nodeName=="dict"){t=n[r].nextElementSibling;
break}if(t==null)return null;
t.parentElement.removeChild(t);
var i=document.createElement("plist");
return i.setAttribute("version","1.0"),i.appendChild(t),i},iTSInclude.isOldStyleError=function(e){return its.client.getPlistStringValueForKey(e,"failureType")!=null},iTSInclude.makeRequestAndUpdateFragments=function(e,t,n){iTSInclude.makeHttpRequest({url:e,formParams:t||{},successCallback:function(e){iTSInclude.updateFragments(e.responseText),n&&n(e)},failureCallback:function(t){its.client.error("ajax failure for fragements include request ["+t.status+"] = "+e)}})},iTSInclude.updateFragments=function(e){var t=newElement("div",e),n=t.querySelectorAll("[fragment-replacement]");
n.each(function(e){var t=e.getAttribute("fragment-replacement");
iTSInclude.replaceFragment(t,e)})},iTSInclude.replaceFragment=function(e,t){var n="[fragment-replacement="+e+"]",r=document.querySelectorAll(n);
if(r.length>0){r.length>1&&its.client.info("we found more than 1 fragment with fragment-replacement id "+n+", updating all");
for(var i=0;
i<r.length;
i++){var s=r[i],o=i==0?t:t.cloneNode(!0);
s.parentNode.replaceChild(o,s)}}},iTSInclude.isJsonResponse=function(t){var n=!1;
try{var r=t.getAllResponseHeaders().toLowerCase().indexOf("json");
n=its.isDefinedNonNull(t)&&r!=-1}catch(i){}return n},iTSKitImageLoader.prototype.handleEvent=function(e){this.numImages--,this.images.remove(e.currentTarget),this.goOnReady()},iTSKitImageLoader.prototype.addElements=function(e){if(e==null)return;e.each?e.each(function(e){this.addElements(e)},this):this.addImages(e)},iTSKitImageLoader.prototype.addImages=function(e){this.images.pushEach(e.querySelectorAll("img"))},iTSKitImageLoader.prototype.goOnReady=function(){this.numImages<1&&(clearTimeout(this.timeout),this.callback&&this.callback())},iTSKitImageLoader.prototype.goOnTimeout=function(){var e=this.callback;
this.callback=null,e()},ITSParentalRatingUtil={},ITSParentalRatingUtil.Type={Movie:"rating-movie",Music:"rating-riaa",Podcast:"rating-podcast",Software:"rating-software",Tv:"rating-tv",Book:"rating-book"},ITSParentalRatingUtil.ratingMapFromElement=function(e){var t={};
for(var n in ITSParentalRatingUtil.Type){var r=ITSParentalRatingUtil.Type[n],i=ITSParentalRatingUtil._parseRatingForRatingValue(e.getAttribute(r));
t[r]=i}return t},ITSParentalRatingUtil.ratingMapFromJsonData=function(e){var t={};
for(var n in e){var r=ITSParentalRatingUtil._parseRatingForRatingValue(e[n]);
t[n]=r}return t},ITSParentalRatingUtil._parseRatingForRatingValue=function(e){if(!e)return null;
var t=null,n=null,r=e.indexOf(",");
return r>=0?(t=e.substring(0,r),n=e.substring(r+1)):t=e,new ITSParentalRating(n,t)},window.its||(window.its={}),window.its.client||(window.its.client={}),window.its.client.log||(window.its.client.log=function(e){window.console&&console.log&&console.log(e)}),window.ITSMetrics||(window.ITSMetrics={}),ITSMetrics.decodeMetricsPassThruParams=function(e){if(e==null)return null;
var t=its.string.xmlUnescape(e),n=its.url.parseQueryParams(t);
return its.client.log(n),n},ITSMetrics.encodeMetricsPassThruParams=function(e){if(e==null)return null;
var t="",n=0;
for(var r in e){var i=e[r];
n>0&&(t+="&"),t+=r+="="+encodeURIComponent(i),n++}return its.string.xmlEscape(t)},ITSMetrics.isOmnitureSupportedOnClient=function(){var e=!0;
return window.navigator.userAgent.indexOf("MacAppStore")>=0&&(e=its.string.compareNumerically(iTunes.systemVersion(),"10.9")<0),e},ITSMetrics.omniturePageName=function(){return ITSMetrics.omniture&&ITSMetrics.omniture.pageName?ITSMetrics.omniture.pageName:null},ITSMetrics.omnitureChannel=function(){return ITSMetrics.omniture&&ITSMetrics.omniture.channel?ITSMetrics.omniture.channel:null},ITSMetrics.processQueryParameterInfoInCurrentRequest=function(e){var t=its.url.queryParamsDict();
if(!its.isEmpty(t)){e.campaign=t.v0;
var n={},r=ITSMetrics.decodeMetricsPassThruParams(t["ign-mpt"]);
r&&(n=r);
var i=ITSMetrics.decodeMetricsPassThruParams(t["gc-mpt"]);
for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s]);
for(var s in n)if(s.length>=1&&s.length<=3){var o=parseInt(s.substr(1),10);
isNaN(o)||(s[0]=="c"?e["prop"+o]=n[s]:s[0]=="v"&&(o===0?e.campaign=n[s]:e["eVar"+o]=n[s]))}var u=t["ign-msr"];
if(u){its.client.log("Found SEO Referrer: "+u);
var a=ITSMetrics._parseHostAndSearchTerm(u);
its.client.log("Referrer domain: "+a.hostname+", search term: "+a.searchTerm),a.hostname&&a.hostname.indexOf("itunes.apple.com")?(console.log("Setting seo referrer cookie: "+u),its.cookies.set("seoReferrer",u,its.cookies.EXPIRE_ONE_DAY,null,"itunes.apple.com"),e.prop23=a.hostname,e.eVar23=a.hostname,e.prop24=a.searchTerm,e.eVar24=a.searchTerm):its.client.log("SEO Referrer's hostname is an SEO Page.  Ignoring")}}},ITSMetrics.userAgentForMetrics=function(){var e=navigator.userAgent;
return e.indexOf("å©")==0&&(e="iTunes Pre 9.2 (Windows Version Unknown)"),e},ITSMetrics.gameCenterUserAgent="GameCenter",ITSMetrics.gameCenterPrefix=ITSMetrics.gameCenterUserAgent+"-",ITSMetrics.isGameCenter=function(e){return e.length>ITSMetrics.gameCenterUserAgent.length&&e.substr(0,ITSMetrics.gameCenterUserAgent.length)==ITSMetrics.gameCenterUserAgent},ITSMetrics._parseHostAndSearchTerm=function(t){var n={},r=its.url.parseHostname(t),i=null,s=null;
return r.indexOf("www.google.")>=0||r.indexOf(".ask.com")>=0||r=="www.bing.com"?i="q":r.indexOf(".yahoo.com")>=0&&(i="p"),i&&(s=its.url.queryParamValue(i,t),s&&(n.searchTerm=s)),n.hostname=r,n},ITSMetrics.metricsId=function(){return its.cookies.get(ITSMetrics.OMNITURE_COOKIE_NAME)},window.ITSMetrics||(window.ITSMetrics={}),ITSMetrics.OMNITURE_HOST="metrics.apple.com",ITSMetrics.OMNITURE_HOST_SECURE="securemetrics.apple.com",ITSMetrics.OMNITURE_COOKIE_NAME="s_vi",ITSMetrics.OMNITURE_COOKIE_DOMAIN=".apple.com",ITSMetrics.Events={},ITSMetrics.Events.PAGE="ITSMetrics.Events.PAGE",ITSMetrics.Events.CLICK="ITSMetrics.Events.CLICK",ITSMetrics.createBaselineOmnitureObject=function(){return ITSMetrics._libraryInstance==null&&(ITSMetrics._libraryInstance=new ITSOmnitureLibrary),ITSMetrics._libraryInstance},ITSOmnitureLibrary=Class.create("",{initialize:function(e){ITSMetrics.reportingSuite&&(this.hier5=ITSMetrics.reportingSuite)},t:function(){var t={};
document.referrer&&document.referrer.length>0&&(t.r=document.referrer),t.ch=this.channel,t.products=this.products,this._emitPing(t,null,!1)},tl:function(t,n,r){var i={};
i.pe="lnk_"+n,i.pev2=r;
var s=typeof t!="boolean"?ITSLocationMetricsUtil.hrefForTargetElement(t):"";
s!==""&&(i.pev1=s),this._emitPing(i,this.linkTrackVars.split(","),!0)},_emitPing:function(t,n,r){var i=new Date,s=i.getYear(),o={};
o.AQB=1,o.ndh=1,o.t=i.getDate()+"/"+i.getMonth()+"/"+(s<1900?s+1900:s)+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+" "+i.getDay()+" "+i.getTimezoneOffset(),o.ce="UTF-8",o.cl=15778463,o.pageName=this.pageName,o.g=window.location.href;
if(t&&Object.keys){var u=Object.keys(t);
for(var a=0;
a<u.length;
a++){var f=u[a];
o[f]=t[f]}}this.campaign&&(o.v0=this.campaign);
var l=this._whitelistArrayToMap(n);
for(var a=0;
a<50;
a++){if(a<=5){var c="hier"+a,h=this[c];
typeof h!="undefined"&&h!==null&&this._shouldIncludeVariable(l,c)&&(o["h"+a]=h)}var p="prop"+a,d=this[p];
typeof d!="undefined"&&d!==null&&this._shouldIncludeVariable(l,p)&&(o["c"+a]=d);
var v="eVar"+a,m=this[v];
typeof m!="undefined"&&m!==null&&this._shouldIncludeVariable(l,v)&&(o["v"+a]=m)}o.s=screen.width+"x"+screen.height,o.c=screen.colorDepth,o.v=navigator.javaEnabled()?"Y":"N",o.k="Y",o.bw=window.innerWidth,o.bh=window.innerHeight,o.AQE=1,o.sfcustom="1";
var g=window.location.protocol=="https:"?"https://securemetrics.apple.com":"http://metrics.apple.com";
g+="/b/ss/applesuperglobal/1/H.20.3/";
var y="s"+Math.floor(i.getTime()/108e5)%10+Math.floor(Math.random()*1e13);
g+=y,g=its.url.appendUrlParameters(g,o);
if("iTunes"in window&&"device"in iTunes&&its.string.compareNumerically(its.client.version(),"6.0")>=0)iTunes.pingURL(g);
else{var b=new Image;
b.src=g}var w=r?ITSMetrics.Events.CLICK:ITSMetrics.Events.PAGE,E=new ITSEvent(w,this);
E.omnitureQueryParams=o,E.pageData=ITSMetrics.pageData,its.notifications.publish(w,E)},_shouldIncludeVariable:function(t,n){return!t||t[n]},_whitelistArrayToMap:function(t){if(!t)return null;
var n={};
for(var r=0;
r<t.length;
r++)n[t[r]]=!0;
return n}}),window.addEventListener("pagehide",function(e){ITSPageMetricsUtil.onPageHidden(e)},!1),ITSPageMetricsUtil.ReferrerPageInfoKey="itsMetricsR",ITSPageMetricsUtil.MetricsStringSeparator="@@",ITSPageMetricsUtil.ADAM_ID="metrics-adamId",ITSPageMetricsUtil.logger=ITSLogger.named("ITSPageMetricsUtil"),ITSPageMetricsUtil.onPageHidden=function(t){var n=ITSPageMetricsUtil.currentPageInfo();
n&&(ITSPageMetricsUtil._saveReferrerPageInfo(n),delete ITSPageMetricsUtil._currentPageInfo)},ITSPageMetricsUtil.currentPageInfo=function(){if(!its.isDefined(ITSPageMetricsUtil._currentPageInfo)){var t=ITSMetrics.omniturePageName(),n=ITSPageMetricsUtil._pageNameExtrasForBuyMetrics(),r=ITSMetrics.omnitureChannel();
t?ITSPageMetricsUtil._currentPageInfo=new ITSMetricsPageInfo(t,n,r):ITSPageMetricsUtil._currentPageInfo=null}return ITSPageMetricsUtil._currentPageInfo},ITSPageMetricsUtil.handleDV6PageEventForPageData=function(e,t,n,r){var i=function(e,t){return typeof e=="boolean"?e:t},s={restoreOnSwoopyClose:i(t,!1),pingOnDidReAppear:i(n,!0),suppressLoadPing:i(r,!1)};
i(its.property("DV6.EnableOmnitureCachedPagePing"),!0)||(s.pingOnDidReAppear=!1),"productData"in e&&(e=e.productData);
var o="omnitureMetrics"in e;
o?ITSPageMetricsUtil._DV6PageHandler=function(t){ITSPageMetricsUtil.handleSF6PageEvent(e,t)}:ITSPageMetricsUtil._DV6PageHandler=function(){},o&&(ITSPageMetricsUtil._DV6PageHandler(s.suppressLoadPing),s.suppressLoadPing&&(ITSPageMetricsUtil._didDisappear=!0));
var u=!1;
return its.sf.Platform?u=its.sf.Platform.iPad():its.client&&(u=its.client.platformIsK2),u&&!ITSPageMetricsUtil._swoopyCloseHandler?(s.restoreOnSwoopyClose&&o?(console.warn("  + enabled swoopy close handler for "+e.omnitureMetrics.pageName),ITSPageMetricsUtil._swoopyCloseHandler=function(){ITSPageMetricsUtil.handleSF6PageEvent(e,!0)}):(console.warn("  - disabled swoopy close handler"),ITSPageMetricsUtil._swoopyCloseHandler=function(){console.warn("_swoopyCloseHandler() disabled")}),its.notifications.subscribe("swoopy:close",ITSPageMetricsUtil._swoopyCloseHandler)):s.restoreOnSwoopyClose&&console.warn("Ignored restoreOnSwoopyClose; _swoopyCloseHandler already exists"),"addEventListener"in iTunes&&"removeEventListener"in iTunes&&(ITSPageMetricsUtil._pageReappearHandler&&!s.pingOnDidReAppear?(iTunes.removeEventListener("didreappear",ITSPageMetricsUtil._pageReappearHandler,!1),delete ITSPageMetricsUtil._pageReappearHandler):!ITSPageMetricsUtil._pageReappearHandler&&s.pingOnDidReAppear&&(ITSPageMetricsUtil._pageReappearHandler=function(){ITSPageMetricsUtil._didDisappear&&(ITSPageMetricsUtil._DV6PageHandler(!1),ITSPageMetricsUtil._didDisappear=!1)},iTunes.addEventListener("didreappear",ITSPageMetricsUtil._pageReappearHandler,!1),iTunes.addEventListener("diddisappear",function(){ITSPageMetricsUtil._didDisappear=!0}))),o},ITSPageMetricsUtil.handleSF6PageEvent=function(e,t){ITSMetrics.pageData=e;
if(e.omnitureMetrics){ITSMetrics.reportingSuite=its.property("SF6.Metrics.ReportingSuite"),ITSMetrics.isClickMetricsEnabled=e.omnitureMetrics.isClickMetricsEnabled,ITSMetrics.isBuyMetricsEnabled=e.omnitureMetrics.isBuyMetricsEnabled;
if("_WARNING"in e.omnitureMetrics){var n=newElement("p",e.omnitureMetrics._WARNING);
n.style["-webkit-user-select"]="text",n.style["background-color"]="red",n.style.width="100%",n.style.margin="10px",n.style["font-size"]="24px",document.body.insertBefore(n,document.body.firstChild)}ITSMetrics.omniture&&ITSMetrics.omniture.pageName!=e.omnitureMetrics.pageName&&ITSPageMetricsUtil.onPageHidden(null),ITSMetrics.omniture=ITSMetrics.createBaselineOmnitureObject(),ITSMetrics.omniture.pageName=e.omnitureMetrics.pageName,ITSMetrics.omniture.products=e.omnitureMetrics.products,ITSMetrics.omniture.prop22=ITSMetrics.omniture.eVar22=e.omnitureMetrics.format,"channel"in e.omnitureMetrics&&(ITSMetrics.omniture.channel=e.omnitureMetrics.channel),"dsid"in e.omnitureMetrics&&(ITSMetrics.omniture.prop28=ITSMetrics.omniture.eVar28=e.omnitureMetrics.dsid);
var r=ITSMetrics.omniture.prop12=ITSMetrics.omniture.eVar12=navigator.userAgent;
ITSMetrics.isGameCenter(r)&&(ITSMetrics.omniture.pageName&&(ITSMetrics.omniture.pageName=ITSMetrics.gameCenterPrefix+ITSMetrics.omniture.pageName),ITSMetrics.omniture.channel&&(ITSMetrics.omniture.channel=ITSMetrics.gameCenterPrefix+ITSMetrics.omniture.channel)),"searchTerm"in e.omnitureMetrics?ITSMetrics.searchTerm=ITSMetrics.omniture.prop2=ITSMetrics.omniture.eVar2=e.omnitureMetrics.searchTerm:(delete ITSMetrics.searchTerm,delete ITSMetrics.omniture.prop2,delete ITSMetrics.omniture.eVar2),ITSMetrics.processQueryParameterInfoInCurrentRequest(ITSMetrics.omniture)}(!document||!document.hidden)&&!t&&e.omnitureMetrics&&e.omnitureMetrics.isPageMetricsEnabled&&ITSMetrics.isOmnitureSupportedOnClient()?ITSMetrics.omniture.t():ITSPageMetricsUtil.logger.warn("ITSMetrics: page ping disabled")};
if("its"in window&&"sf6"in its){var isDesktop=!1;
its.sf.Platform?isDesktop=its.sf.Platform.desktop():its.client&&(isDesktop=its.client.platformIsDesktop),isDesktop&&window.addEventListener("load",function(e){e.target==window.document&&("omnitureMetrics"in its.serverData.pageData||"metrics"in its.serverData.pageData)&&ITSPageMetricsUtil.handleSF6PageEvent(its.serverData.pageData)},!1)}ITSPageMetricsUtil.referrerPageInfo=function(){if(!its.isDefined(ITSPageMetricsUtil._referrerPageInfo)){ITSPageMetricsUtil._referrerPageInfo=null;
var t=its.cookies.get(ITSPageMetricsUtil.ReferrerPageInfoKey);
if(its.isDefinedNonNull(t)){var n=t.split(ITSPageMetricsUtil.MetricsStringSeparator);
if(n.length>=3){var r=n[0],i=n[1],s=n[2],o=n.length==4?n[3]:null;
ITSPageMetricsUtil._referrerPageInfo=new ITSMetricsPageInfo(r,o,i,s)}}}return ITSPageMetricsUtil._referrerPageInfo},ITSPageMetricsUtil.registerClickInCurrentPageInfo=function(t){if(!its.isDefinedNonNull(t))return;var n=ITSPageMetricsUtil.currentPageInfo();
n&&(n.location=t)},ITSPageMetricsUtil._pageNameExtrasForBuyMetrics=function(){var t=null;
return"omniture"in ITSMetrics&&"prop28"in ITSMetrics.omniture&&ITSMetrics.omniturePageName()&&(t=this.prop28),t},ITSPageMetricsUtil._saveReferrerPageInfo=function(t){if(!its.isDefinedNonNull(t))return;var n=[ITSPageMetricsUtil._prepareSerializedInfo(t.pageName),ITSPageMetricsUtil._prepareSerializedInfo(t.channelName),ITSPageMetricsUtil._prepareSerializedInfo(t.location),ITSPageMetricsUtil._prepareSerializedInfo(t.pageNameExtrasForBuyMetrics)],r=n.join(ITSPageMetricsUtil.MetricsStringSeparator);
r?(its.cookies.set(ITSPageMetricsUtil.ReferrerPageInfoKey,r,its.cookies.EXPIRE_SESSION,null,"itunes.apple.com"),ITSPageMetricsUtil.logger.info("referrer page info: saving cookie: "+r)):(its.cookies.remove(ITSPageMetricsUtil.ReferrerPageInfoKey),ITSPageMetricsUtil.logger.info("referrer page info: expiring cookie"))},ITSPageMetricsUtil._prepareSerializedInfo=function(t){return t?t.replace(ITSPageMetricsUtil.MetricsStringSeparator," "):""},ITSPageMetricsUtil.pageMetricsByAppendingPageNameDetails=function(e,t){if(null==t||t.length==0)return e;
if(!e.pageName)return e;
if(null==e||"object"!=typeof e)return e;
var n=e.constructor();
for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);
return n.pageName+="-"+t,n},ITSLocationMetricsUtil.LOCATION_KEY="metrics-loc",ITSLocationMetricsUtil.LOCATION_DETAILS_KEY="metrics-loc-details",ITSLocationMetricsUtil.LOCATION_LEAF_KEY="metrics-leaf",ITSLocationMetricsUtil.LOCATION_HREF_KEY="metrics-href",ITSLocationMetricsUtil.LOCATION_SEPARATOR="|",ITSLocationMetricsUtil._elementOrAncestorByFunction=function(e,t){while(e&&e!=document){if(t(e))return e;
e=e.parentNode}return null},ITSLocationMetricsUtil.isClickMetricsEnabled=function(t){var n=ITSLocationMetricsUtil._elementOrAncestorByFunction(t.parentNode,function(e){return e.hasAttribute("metrics-click")}),r=n?"true"==n.getAttribute("metrics-click"):ITSMetrics&&ITSMetrics.isClickMetricsEnabled;
return r},ITSLocationMetricsUtil.isBuyMetricsEnabled=function(){return ITSMetrics&&ITSMetrics.isBuyMetricsEnabled},ITSLocationMetricsUtil.generateLocationString=function(t,n,r){var i=[],s=null;
for(var o=t;
o;
o=o.parentNode){var u=ITSLocationMetricsUtil._locationForElement(o),a=!1;
u&&(i.push(u),a=!0);
if(s){var f=null;
u?f=u.metricsElement:o.tagName&&o.tagName.toLowerCase()=="body"&&(f=o),f&&ITSLocationMetricsUtil._modifyChildWithDetailsIfNecessary(f,s)}a&&(s=u)}if(i.length===0)return null;
var l="";
for(;
;){var u=i.pop();
if(!u)break;l.length>0&&(l+=ITSLocationMetricsUtil.LOCATION_SEPARATOR),l+=u.metricsString,u.metricsDetails&&(l+=u.metricsDetails)}var c=ITSMetrics.omniturePageName();
return c&&!n&&(l=c+ITSLocationMetricsUtil.LOCATION_SEPARATOR+l),r&&(l=l+ITSLocationMetricsUtil.LOCATION_SEPARATOR+r),l},ITSLocationMetricsUtil.appendBuyMetricsToBuyParams=function(t,n,r){if(!Object.keys||!t||t.length===0)return t;
buyMetrics=ITSLocationMetricsUtil.getBuyMetricsParams(n,r);
var i=Object.keys(buyMetrics);
for(var s=0;
s<i.length;
s++){var o=i[s];
t+="&"+o+"="+encodeURIComponent(buyMetrics[o])}return t},ITSLocationMetricsUtil.getBuyMetricsParams=function(e,t){var n={};
if(!ITSLocationMetricsUtil.isBuyMetricsEnabled())return n;
ITSMetrics.omniturePageName()&&(n.origPage=ITSMetrics.omniturePageName());
var r=ITSPageMetricsUtil._pageNameExtrasForBuyMetrics();
r&&(n.origPageExtras=r),ITSMetrics.omnitureChannel()&&(n.origPageCh=ITSMetrics.omnitureChannel());
var i=ITSLocationMetricsUtil.generateLocationString(e,!0,t);
i&&(n.origPageLocation=i);
var s=ITSPageMetricsUtil.referrerPageInfo();
s&&(s.pageName&&(n.origPage2=s.pageName),s.pageNameExtrasForBuyMetrics&&(n.origPageExtras2=s.pageNameExtrasForBuyMetrics),s.channelName&&(n.origPageCh2=s.channelName),s.location&&(n.origPageLocation2=s.location));
var o=ITSLocationMetricsUtil.getSearchMetrics(e,"B");
return o&&(n.origPageSearch=o),n},ITSLocationMetricsUtil.getSearchMetrics=function(t,n){var r=ITSMetrics.searchTerm;
if(r){var i=ITSLocationMetricsUtil._getAdamId(t);
i===null&&(i="unknownAdamid");
var s=n+"|"+encodeURIComponent(r)+"|"+i;
return s}return null},ITSLocationMetricsUtil.emitCustomClickEvent=function(e,t){var n=ITSLocationMetricsUtil.isClickMetricsEnabled(e);
ITSMetricsClickHandler._performPing(e,t,n)},ITSLocationMetricsUtil.setCustomClickHref=function(e,t){e&&t&&(e[ITSLocationMetricsUtil.LOCATION_HREF_KEY]=t)},ITSLocationMetricsUtil.hrefForTargetElement=function(e){return e.hasOwnProperty(ITSLocationMetricsUtil.LOCATION_HREF_KEY)?e[ITSLocationMetricsUtil.LOCATION_HREF_KEY]:e.hasAttribute&&e.hasAttribute(ITSLocationMetricsUtil.LOCATION_HREF_KEY)?e.getAttribute(ITSLocationMetricsUtil.LOCATION_HREF_KEY):e.tagName&&e.tagName.toLowerCase()=="a"?e.href:""},ITSLocationMetricsUtil.setCustomClickAdamId=function(e,t){e&&t?e[ITSPageMetricsUtil.ADAM_ID]=t:e&&e[ITSPageMetricsUtil.ADAM_ID]&&delete e[ITSPageMetricsUtil.ADAM_ID]},ITSLocationMetricsUtil._getAdamId=function(t){var n=t;
while(n&&n!=document){if(n.hasAttribute&&n.hasAttribute("adam-id"))return n.getAttribute("adam-id");
if(n[ITSPageMetricsUtil.ADAM_ID])return n[ITSPageMetricsUtil.ADAM_ID];
n=n.parentNode}return null},ITSLocationMetricsUtil._locationForElement=function(e){return e.hasAttribute&&e.hasAttribute(ITSLocationMetricsUtil.LOCATION_KEY)?{metricsString:e.getAttribute(ITSLocationMetricsUtil.LOCATION_KEY),metricsElement:e}:null},ITSLocationMetricsUtil._modifyChildWithDetailsIfNecessary=function(e,t){var n=t.metricsString;
if(n.length>0&&n.charAt(n.length-1)=="_"){var r="["+ITSLocationMetricsUtil.LOCATION_KEY+'="'+n+'"]',i=e.querySelectorAll(r);
if(t.metricsElement.hasAttribute(ITSLocationMetricsUtil.LOCATION_DETAILS_KEY))t.metricsDetails=t.metricsElement.getAttribute(ITSLocationMetricsUtil.LOCATION_DETAILS_KEY);
else{var s=-1;
for(var o=0;
o<i.length;
o++)if(i[o]===t.metricsElement){s=o;
break}s>=0&&(t.metricsDetails=s+1)}}},ITSMetricsClickHandler.Events={CLICK:"ITSMetricsClickHandler.Event.CLICK"},ITSMetricsClickHandler.logger=ITSLogger.named("ITSMetricsClickHandler"),ITSMetricsClickHandler.handleClickEvent=function(e){var t=ITSLocationMetricsUtil.isClickMetricsEnabled(e.target);
if(!t)return;if(e.button!=0||e.ctrlKey==1)return;var n=ITSMetricsClickHandler._clickTargetElement(e.target);
if(!n)return;ITSMetricsClickHandler._performPing(n,null,t)},ITSMetricsClickHandler.handleDropDownChangeEvent=function(e){var t=e.target;
if(!ITSLocationMetricsUtil.isClickMetricsEnabled(t))return;if(t.tagName!="SELECT")return;var n=t.options[t.selectedIndex],r=n;
if(!r)return;ITSMetricsClickHandler._performPing(r,null,!0)},ITSMetricsClickHandler._performPing=function(e,t,n){its.notifications.publish(ITSMetricsClickHandler.Events.CLICK,{name:ITSMetricsClickHandler.Events.CLICK,sender:ITSMetricsClickHandler,target:e,subElementLocation:t});
var r=ITSLocationMetricsUtil.generateLocationString(e,!1);
if(!r)return;t!==null&&(r+=ITSLocationMetricsUtil.LOCATION_SEPARATOR+t);
var i=ITSMetrics.createBaselineOmnitureObject();
i.linkTrackVars="hier5";
var s=ITSLocationMetricsUtil.getSearchMetrics(e,"C");
s&&(i.prop19=s,i.eVar19=s,i.linkTrackVars=i.linkTrackVars+",prop19,eVar19");
var o=ITSLocationMetricsUtil._getAdamId(e);
o!==null&&(i.prop29=o,i.eVar29=o,i.linkTrackVars=i.linkTrackVars+",prop29,eVar29");
if(n){ITSMetricsClickHandler.logger.info("Click metrics: "+r);
var u=n?r:"n/a";
i.prop30=u,i.eVar30=u,i.linkTrackVars+=",prop30,eVar30",ITSLocationMetricsUtil.hrefForTargetElement(e)!==""?i.tl(e,"o",u):i.tl(!0,"o",u),ITSPageMetricsUtil.registerClickInCurrentPageInfo(ITSLocationMetricsUtil.generateLocationString(e,!0))}delete i.linkTrackVars,delete i.prop19,delete i.eVar19,delete i.prop29,delete i.eVar29,delete i.prop30,delete i.eVar30},ITSMetricsClickHandler._clickTargetElement=function(e){var t=e;
while(t&&t!=document){if(t.tagName.toLowerCase()=="a"||t.hasAttribute(ITSLocationMetricsUtil.LOCATION_LEAF_KEY))return t;
t=t.parentNode}return null},ITSMetrics.isOmnitureSupportedOnClient()&&(document.addEventListener("mousedown",ITSMetricsClickHandler.handleClickEvent,!0),document.addEventListener("change",ITSMetricsClickHandler.handleDropDownChangeEvent,!0)),iTSKitErrorHandling(iTSKitPageController),iTSKitPageController.prototype.registerController=function(e){return iTSKitController(e)},iTSKitPageController.prototype.registerElement=function(e){iTSKitElement(e)},iTSKitPageController.prototype.hasController=function(e){return typeof e=="string"&&this[e]!=null},iTSKitPageController.prototype.sendToController=function(e,t){this.hasController(e)&&typeof t=="string"&&this[e][t](arguments)},iTSKitPageController.prototype.refresh=function(e){e&&(e=classNameForObject(e)),this.controllers.each(function(t){t.className()!="iTSProtocolController"&&t.className()!="ItsDtDynamicPageController"&&e!=t.className()&&t.refresh()})},iTSKitPageController.prototype.preLoad=function(){this.controllers.each(function(e){e.preLoad&&e.preLoad()})};
var iTSKit=new iTSKitPageController;
iTSKit.domLoaded=function(){return iTSKit._domContentLoaded},iTSKit.pageLoaded=function(){return iTSKit._pageLoaded},iTSKit.afterPageLoaded=function(){return iTSKit._afterPageLoaded},iTSKit.debug=function(e){var t=null;
e==null&&(e=!0);
if(its&&its.kit&&its.kit.debug)its.kit.debug(e),t="its.kit.debug("+n+")";
else{iTSKit.isDebugEnabled=e;
var n=iTSKit.isDebugEnabled.toString();
sessionStorage?(sessionStorage["iTSKit.isDebugEnabled"]=n,t="sessionStorage[iTSKit.isDebugEnabled]="+n):t="non-persistent iTSKit.isDebugEnabled="+n}return t},iTSKit.debugIsEnabled=function(){return its&&its.kit&&its.kit.isDebugEnabled?its.kit.isDebugEnabled():(sessionStorage&&(iTSKit.isDebugEnabled=/(\?|&)iTSKit.isDebugEnabled=true(&|$)/.test(window.location.search)||/(\?|&)its.kit.debug.enabled=true(&|$)/.test(window.location.search)||sessionStorage&&sessionStorage["iTSKit.isDebugEnabled"]=="true"),iTSKit.isDebugEnabled)},Element.prototype.iTSKitElementSelectorAll=function(e){var t=classNameForObject(e),n=new Array;
this[t]&&n.push(this[t]);
var r="*";
return this.querySelectorAll(r).each(function(e){var r=e[t];
r&&n.push(r)}),n},Element.prototype.iTSKitElementSelector=function(e){this.iTSKitElementSelectorAll(e).first()},its.kit.createController("iTSDIMoreText",{binding:function(e){return its.client.screenReaderRunning()?null:(this.bindWithOptions("div.product-review.vertical","multi-paragraph",50),this.bindWithOptions("body:not(.ebook):not(.course) div.product-review.itunes-notes p","paragraph",2),this.bindWithOptions("body:not(.ebook):not(.course) div.product-review:not(.itunes-notes)","multi-paragraph",2),this.bindWithOptions("div.footer-links > ul","list",7),this.bindWithOptions("div.quick-view p.description","paragraph",2,!0),this.bindWithOptions("div.lockup.product ul.list > li.rating > a","paragraph",1),this.bindWithOptions("div.lockup.product ul.list > li.rating > a","paragraph",1),this.bindWithOptions("div.lockup.product.application ul.list > li.language","paragraph",2),this.bindWithOptions("div.movie-description > div.plot-summary p","paragraph",12),this.bindWithOptions("div.lockup.product li.copyright","paragraph",1),this.bindWithOptions("div.lockup-bundle-info div.plot-summary p","paragraph",3),this.bindWithOptions("body.ebook div.book-summary","multi-paragraph",15),this.bindWithOptions("div.course-outline > div","paragraph",5),e.querySelectorAll(".more-text"))},controller:{bindWithOptions:function(e,t,n,r){this.bindToElements(e).each(function(e){e.setOptions(t,n,r)})}},component:{init:function(){var e=this.element;
if(e.hasClassName("more-text")){var t=e.getAttribute("truncate-style"),n=parseInt(e.getAttribute("truncate-length"),10),r=e.getAttribute("truncate-override")=="true";
this.setOptions(t,n,r)}},setOptions:function(e,t,n){this.showType=e,this.showLines=t,this.overrideLink=n;
switch(this.showType){case"paragraph":this.truncateParagraph();
break;case"same-paragraph":this.truncateSameParagraph();
break;case"inline":this.truncateInline();
break;case"multi-paragraph":this.truncateMultiParagraph();
break;case"list":this.truncateList();
break;case"mixed":this.truncateMixed()}},moreLinkClicked:function(e){e.stopPropagation(),e.preventDefault();
switch(this.showType){case"paragraph":this.showAllParagraph();
break;case"inline":this.showAllInline();
break;case"multi-paragraph":this.showAllMultiParagraph();
break;case"list":this.showAllList();
break;case"mixed":this.showAllMixed();
break;default:this.showAllParagraph()}},truncateParagraph:function(){var e=this.element,t=this.paragraphLineClamp();
t<100&&(e.parentNode.querySelector("p ~ a.goto-link")||(this.moreLink=this.createMoreLink(),this.listen(this.moreLink,"click","moreLinkClicked"),e.insertAfter(this.moreLink)),e.style.display="-webkit-box",e.style.webkitBoxOrient="vertical",e.style.overflow="hidden",e.style.webkitLineClamp=t+"%")},truncateMultiParagraph:function(){var e=this.element.querySelectorAll("p").length>1,t=e?99:this.paragraphLineClamp();
t<100&&this.element.tagName=="DIV"&&this.element.querySelectorAll("p, ul, ol").each(function(e,n){n>0?e.hide():(this.moreLink=this.createMoreLink(),this.listen(this.moreLink,"click","moreLinkClicked"),e.insertAfter(this.moreLink),e.style.display="-webkit-box",e.style.webkitBoxOrient="vertical",e.style.overflow="hidden",e.style.webkitLineClamp=t+"%")},this)},truncateInline:function(){var e=this.element.querySelectorAll("p");
if(e.length>0)e.each(function(e,t){t>0?e.hide():e.lineCount()>this.showLines&&this._truncateInlineHelper(e)},this);
else{var t=this.element.querySelector(".truncate");
t||(t=this.element.firstElementChild),t&&Math.floor(t.lineCount())>this.showLines&&this._truncateInlineHelper(t)}},_truncateInlineHelper:function(e){if(this.element.getComputedStyleProperty("position")=="static"){var t=this.element.parentByClassName("wide-user-lockup");
t||(this.element.style.position="relative")}e.insertAfter(this.createMoreLink()),this.moreLink=e.parentNode.querySelector("a.more-link"),this.listen(this.moreLink,"click","moreLinkClicked"),e.style.display="-webkit-box",e.style.webkitBoxOrient="vertical",e.style.overflow="hidden",e.style.webkitLineClamp=Math.ceil(this.showLines/e.lineCount()*100)+"%";
var n=this.createMoreLink();
n.className="more-link-placeholder",e.appendChild(n)},truncateSameParagraph:function(){var e=this.showLines/this.element.lineCount()*100;
e<100&&(this.element.parentNode.querySelector("p ~ a.goto-link")||(this.element.parentNode.insertBefore(this.createMoreLink()),this.moreLink=this.element.parentNode.querySelector("a.more-link"),this.listen(this.moreLink,"click","moreLinkClicked")),this.element.style.display="-webkit-box",this.element.style.webkitBoxOrient="vertical",this.element.style.overflow="hidden",this.element.style.webkitLineClamp=this.showLines)},paragraphLineClamp:function(){return this.element.querySelector("p")?(this.showLines+1)/this.element.querySelector("p").lineCount()*100:(this.showLines+1)/this.element.lineCount()*100},showAllParagraph:function(){this.overrideLink||(this.element.style.webkitLineClamp="100%"),!this.overrideLink&&this.moreLink&&this.moreLink.hide()},showAllInline:function(){if(this.element.querySelectorAll("p").length>0)this.showAllMultiParagraph();
else{var e=this.element.querySelector(".truncate");
e||(e=this.element.firstElementChild),e.style.webkitLineClamp="100%",!this.overrideLink&&this.moreLink&&this.moreLink.hide()}},showAllMultiParagraph:function(){this.overrideLink||(this.element.querySelector("p").style.webkitLineClamp="100%"),this.overrideLink||this.element.querySelectorAll("p, ul, ol").each(function(e){e.show()}),!this.overrideLink&&this.moreLink&&this.moreLink.hide()},showAllMixed:function(){this.moreLink.hide();
var e=this.element.querySelector(".fixed-truncate-area");
e&&(e.style.height="",e.style.overflow=""),this.element.querySelectorAll("p, li, ul").show(),this.element.querySelectorAll("li").each(function(e){e.style.height=""})},truncateList:function(){var e=this.showLines-1;
if(this.element.children.length>e+2){this.element.children.each(function(t,n){n>e&&t.hide()});
var t=document.createElement("li");
t.appendChild(this.createMoreLink()),this.element.children[e].insertAfter(t),this.moreLink=this.element.querySelector("a.more-link"),this.listen(this.moreLink,"click","moreLinkClicked")}},adjustHeight:function(){var e=this.element.querySelectorAll("p, ul"),t=0,n=!1;
if(e.length>0)var r=e[0].getComputedStyleProperty("line-height").toInt(),i=this.showLines*r;
for(var s=0;
s<e.length;
s++){var o=e[s],u=o.offsetHeightPlusMargin()+o.paddingHeight();
if(n)o.hide();
else if(t+u<=i)t+=u;
else{var a=o;
o.tagName=="UL"&&o.querySelectorAll("li").each(function(e){if(n)e.hide();
else{var r=e.offsetHeightPlusMargin()+e.paddingHeight();
t+r>i?(a=e,n=!0):t+=r}}),n=!0,t+=a.getComputedStyleProperty("margin-top").toInt()+a.getComputedStyleProperty("padding-top").toInt();
var f=0;
for(var l=0;
l<a.lineCount();
l++){if(!(t+(l+1)*r<i))break;f++}f==0?a.hide():(a.style.webkitBoxOrient="vertical",a.style.overflow="hidden",a.tagName=="LI"?a.style.height=r*f+"px":a.style.webkitLineClamp=f/a.lineCount()*100+"%")}}var c=this.element.querySelector(".fixed-truncate-area");
if(c){if(!n){var h=this.createMoreLinkDiv();
h.style.visibility="hidden",this.element.appendChild(h)}c.style.height=i+"px",c.style.overflow="hidden"}return n},truncateMixed:function(){this.showLines++;
var e=this.adjustHeight();
this.element.style.display="-webkit-box",this.element.style.webkitBoxOrient="vertical",this.element.style.overflow="hidden",e&&(this.element.appendChild(this.createMoreLinkDiv()),this.moreLink=this.element.querySelector("a.more-link"),this.listen(this.moreLink,"click","moreLinkClicked"))},showAllList:function(){this.moreLink.parentByTagName("li").remove(),this.element.children.show()},createMoreLinkDiv:function(){var e=document.createElement("div");
return e.appendChild(this.createMoreLink()),e},createMoreLink:function(){var e=document.createElement("a");
return e.className="more-link",e.href="#more-link",e.setAttribute("ontouchstart",""),e.innerText=its.loc("Js.TextTruncation.More"),e}}}),its.kit.createController("iTSClientSideInclude",{binding:"div[client-side-include-url]",component:{init:function(){this.includeURL=this.element.getAttribute("client-side-include-url"),this.performInclude(),this.listen(window,"storecreditchanged")},performInclude:function(){var e=this.element,t=this.includeURL,n=e.getAttribute("client-side-include-timeout")||3e4;
if(!this.validateDSIDRequirements()||!this.validateConnectionsRequirements()){this.showContentOnRequirementsFailure();
return}if(!t)return;iTSInclude.makeHttpRequest({url:t,timeout:n,successCallback:bind(this,"success"),failureCallback:bind(this,"failure"),timeoutCallback:bind(this,"timeout")})},success:function(e){var t=this.element,n=t.getAttribute("fragment-replacement"),r=e.responseText;
its.kit.bindAfter(function(){n?iTSInclude.replaceFragment(n,newElement("div",r)):this.element.innerHTML=r;
var e=t.getAttribute("metrics-event");
e&&this.performMetricsPing(e),this.sendStatusEvent("success"),t.show()},this),window.iTSKit&&iTSKit.refresh()},failure:function(e){this.showContentOnFailure(),this.sendStatusEvent("failed")},timeout:function(e){this.showContentOnFailure(),this.sendStatusEvent("timeout")},showContentOnRequirementsFailure:function(){this.element.getAttribute("show-default-content-when-required-checks-fail")=="true"&&this.element.show()},showContentOnFailure:function(){this.element.getAttribute("show-default-content-on-timeout-or-failure")=="true"&&this.element.show()},validateDSIDRequirements:function(){if(this.element.getAttribute("require-dsid")=="true"&&its.client.isRunning){var e=its.client.getUserDSID();
if(!e)return!1}return!0},validateConnectionsRequirements:function(){var e=this.element;
if(e.getAttribute("require-opted-into-social")=="true"){var t=document.body.getAttribute("cn-cookie-name"),n=its.cookies.get(t);
if(!n||n=="-1")return!1;
if(e.getAttribute("require-is-following")=="true"){var r=document.body.getAttribute("cn-if-cookie-name"),i=its.cookies.get(r);
if(i=="false")return!1}}return!0},performMetricsPing:function(e){var t=ITSMetrics.omniture.pageName||"UnknownPage",n=ITSMetrics.createBaselineOmnitureObject(),r=t+"|"+e;
n.prop4=r,n.eVar4=r,n.linkTrackVars="hier5,prop4,eVar4",n.tl(!0,"o",e)},sendStatusEvent:function(e){this.dispatchCustomEvent(this.element,"iTSClientSideInclude.event.status",{status:e})},storecreditchangedEvent:function(){var e=this.element.getAttribute("reload-after-buy");
e=="true"&&this.performInclude()}}}),its.kit.onDomReady(function(){its.client.platformIsWindows()&&document.body.addClassName("win"),its.client.screenReaderRunning()&&document.body.addClassName("screen-reader"),its.webkitVersionCompare(its.webkitVersion(),"533.16")<0&&document.body.addClassName("lacks-line-clamp-support"),its.client.isRunning&&!its.client.isClientGreaterThanOrEqualToSpecifiedVersion("11.0")&&window.addEventListener("unload",function(){})}),its.kit.onAfterLoad(function(){var t=document.querySelector("body.product.course .stack-wrapper");
t&&t.querySelector(".tracklist-content-box.scrolling")&&(t.style.display="none",t.offsetHeight,t.style.display="")}),its.kit.onPreload(function(){window.devicePixelRatio>1?document.body.addClassName("hd-device"):document.body.addClassName("sd-device")})